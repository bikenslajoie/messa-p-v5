$( "#datenais" ).datepicker({
	 altField: "#datenais",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });
	
$( "#dateabs" ).datepicker({
	 altField: "#dateabs",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });

$( "#dateetat" ).datepicker({
	 altField: "#dateetat",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });
	
	
$( "#datepaiement" ).datepicker({
	 altField: "#datepaiement",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });	
	
	
$( "#du" ).datepicker({
	 altField: "#du",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });
$( "#au" ).datepicker({
	 altField: "#au",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });
$( "#du2" ).datepicker({
	 altField: "#du2",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false,
		defaultDate: "+1w",
		changeMonth: true,
		numberOfMonths: 3,
		  onClose: function( selectedDate ) {
			$( "#au2" ).datepicker( "option", "minDate", selectedDate );
		  }
    });		

$( "#au2" ).datepicker({
	 altField: "#au2",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false,
		defaultDate: "+1w",
		changeMonth: true,
		numberOfMonths: 3,
		onClose: function( selectedDate ) {
			$( "#du2" ).datepicker( "option", "maxDate", selectedDate );
		}
    });
	$( "#datedepense" ).datepicker({
	 altField: "#datedepense",
		monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
        monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
        dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
        dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
        dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
        dateFormat: 'dd/mm/yy',
        firstDay: 1,
        prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
        nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
        currentText: 'Courant', currentStatus: 'Voir le mois courant',
        todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
        clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
        closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
        yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
        weekText: 'Sm', weekStatus: 'Semaine de l\'année',
        dayStatus: '\'Choisir\' le DD d MM',
        defaultStatus: 'Choisir la date',
        isRTL: false
    });
	
var i;
for (i = 0; i < 50; i++) {
	$( "#b11"+i ).datepicker({
		 altField: "#b11"+i,
			monthNames: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin','Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'],
			monthNamesShort: ['Jan', 'Fév', 'Mar', 'Avr', 'Mai', 'Jun','Jul', 'Aoû', 'Sep', 'Oct', 'Nov', 'Déc'],
			dayNames: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
			dayNamesShort: ['Dim', 'Lun', 'Mar', 'Mer', 'Jeu', 'Ven', 'Sam'],
			dayNamesMin: ['Di', 'Lu', 'Ma', 'Me', 'Je', 'Ve', 'Sa'],
			dateFormat: 'dd/mm/yy',
			firstDay: 1,
			prevText: '&#x3c;Préc', prevStatus: 'Voir le mois précédent',
			prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: 'Voir l\'année précédent',
			nextText: 'Suiv&#x3e;', nextStatus: 'Voir le mois suivant',
			nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: 'Voir l\'année suivant',
			currentText: 'Courant', currentStatus: 'Voir le mois courant',
			todayText: 'Aujourd\'hui', todayStatus: 'Voir aujourd\'hui',
			clearText: 'Effacer', clearStatus: 'Effacer la date sélectionnée',
			closeText: 'Fermer', closeStatus: 'Fermer sans modifier',
			yearStatus: 'Voir une autre année', monthStatus: 'Voir un autre mois',
			weekText: 'Sm', weekStatus: 'Semaine de l\'année',
			dayStatus: '\'Choisir\' le DD d MM',
			defaultStatus: 'Choisir la date',
			isRTL: false
		});
}	


//==================================

//==========================	
function rafraichir(lien){
	window.location.replace(lien);
	}
//========================================

function confirmation_lien2(titre,lien){
if(confirm(titre+'\n=================================\nVoulez-vous  effectuer cette transaction?')) 

		{
		window.location.replace(lien);
		}
}
//=========================================
function confirmation(){

	if(confirm('Voulez-vous effectuer cette transaction?')) 

		{
		return true;
		
		}

		else
		
		{
		return false; 
		
		}

}

function confirmation_messa(titre){
					$("#title-message").html(titre);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									return true;
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Non",
								"class" : "btn btn-minier",
								click: function() {
									return false; 
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

//override dialog's title function to allow for HTML titles
				$.widget("ui.dialog", $.extend({}, $.ui.dialog.prototype, {
					_title: function(title) {
						var $title = this.options.title || '&nbsp;'
						if( ("title_html" in this.options) && this.options.title_html == true )
							title.html($title);
						else title.text($title);
					}
				}));
			
				

function confirmation_lien(titre,lien){
					
                    $("#title-message").html(titre);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; "+btn_delete,
								"class" : "btn btn-danger btn-minier",
								click: function() {
									window.location.replace(lien);
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function confirmation_lien_cours(titre,lien,lien2){

					$("#title-message").html(titre);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '450',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Oui Option 1",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									window.location.replace(lien);
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Oui Option 2",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									window.location.replace(lien2);
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function AlertMessa(titre){
					$("#title-message").html(titre);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Information</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function confirmation_lien3(titre,lien){
					$("#title-message").html(titre);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; "+btn_yes,
								"class" : "btn btn-info btn-minier",
								click: function() {
									window.location.replace(lien);
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}
function Hide(monchamps1,monchamps2){
	$("#"+monchamps1).hide();
	$("#"+monchamps2).show();
}	

function UpdateCombo(combo1){
        //$('#groupuser').empty(); //remove all child nodes
        var newOption = $('<option value="1">test</option>');
        $('#'+combo1).append(newOption);
        $('#'+combo1).trigger("chosen:updated");	
}
	
function ajax_post(monchamps1,monchamps2,combo1){
    // Create our XMLHttpRequest object
	
    var hr = new XMLHttpRequest();
    // Create some variables we need to send to our PHP file
    var url = "parser.php";
    var fn = document.getElementById("addgroupe").value;
    var ln = "";
    var vars = "legroupe="+fn;
    hr.open("POST", url, true);
    // Set content type header information for sending url encoded variables in the request
    hr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
    // Access the onreadystatechange event for the XMLHttpRequest object
    hr.onreadystatechange = function() {
	    if(hr.readyState == 4 && hr.status == 200) {
		    var return_data = hr.responseText;
	$('#'+combo1).empty(); //remove all child nodes		
	var newOption = $(return_data);
	$('#'+combo1).append(newOption);
	$('#'+combo1).trigger("chosen:updated");
	    }
    }
    // Send the data to PHP now... and wait for response to update the status div
    hr.send(vars); // Actually execute the request
    //document.getElementById("status").innerHTML = "processing...";
	document.getElementById("addgroupe").value = "";
	Hide(monchamps1,monchamps2);	
}


function ajax_rubrique(monchamps1,monchamps2,combo1){
	$.ajax({
       url : base_url+"parser",
       type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
        'rubrique': $("#addgroupe").val()
      },	   
       dataType : 'html', // On désire recevoir du HTML
       success : function(code_html, statut){ // code_html contient le HTML renvoyé
			
			$('#groupeleve').empty();
			$('#groupeleve').append(code_html);
			$('#groupeleve').trigger("chosen:updated");
			$('#addgroupe').val('');
			
			Hide(monchamps1,monchamps2);
			
       }
    });
}

function previewFile() {
  var preview = document.querySelector('#bik01');
  var file    = document.querySelector('input[type=file]').files[0];
  var reader  = new FileReader();

  reader.addEventListener("load", function () {
    preview.src = reader.result;
  }, false);

  if (file) {
    reader.readAsDataURL(file);
  }
}


function DeletePromo_u(id){
		var idetuajax 	= document.getElementById("idetuajax").value;
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'idpromolst' : id,
										'idetuajax'	 : idetuajax,
										'MM_promo_u'   : 'ok'	
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										   //document.getElementById("tablepromo").innerHTML = code_html;
										   $("#tablepromo").html(code_html);
									   }
									});
									
									
									ComboPromo();
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}



function PosterNotemat(id){
	
	var cof = document.getElementById("xcoef"+id).value;
	
	var e1 	= document.getElementById("x1"+id) ? document.getElementById("x1"+id).value  : "-1000";
	var e2 	= document.getElementById("x2"+id) ? document.getElementById("x2"+id).value  : "-1000";
    var e3 	= document.getElementById("x3"+id) ? document.getElementById("x3"+id).value  : "-1000";
    var e4 	= document.getElementById("x4"+id) ? document.getElementById("x4"+id).value  : "-1000";
	var e5 	= document.getElementById("x5"+id) ? document.getElementById("x5"+id).value  : "-1000";
	var e6 	= document.getElementById("x6"+id) ? document.getElementById("x6"+id).value  : "-1000";
    var e7 	= document.getElementById("x7"+id) ? document.getElementById("x7"+id).value  : "-1000";
	var e8 	= document.getElementById("x8"+id) ? document.getElementById("x8"+id).value  : "-1000";
    var e9 	= document.getElementById("x9"+id) ? document.getElementById("x9"+id).value  : "-1000";
    var e10 = document.getElementById("x10"+id) ? document.getElementById("x10"+id).value  : "-1000";
	var e11	= document.getElementById("x11"+id) ? document.getElementById("x11"+id).value  : "-1000";
	var e12	= document.getElementById("x12"+id) ? document.getElementById("x12"+id).value  : "-1000";
	
	if (e1 == ""){e1="-1000"};
	if (e2 == ""){e2="-1000"};
	if (e3 == ""){e3="-1000"};
	if (e4 == ""){e4="-1000"};
	if (e5 == ""){e5="-1000"};
	if (e6 == ""){e6="-1000"};
	if (e7 == ""){e7="-1000"};
	if (e8 == ""){e8="-1000"};
	if (e9 == ""){e9="-1000"};
	if (e10 == ""){e10="-1000"};
	if (e11 == ""){e11="-1000"};
	if (e12 == ""){e12="-1000"};
	
/*	
	if(e1>cof){
		AlertMessa("Erreur note 1");
		document.getElementById("p1"+id).value = cof;
	}
	
	if(e2>cof){
		AlertMessa("Erreur note 2");
		document.getElementById("p2"+id).value = cof;
	}	
	if(e3>cof){
		AlertMessa("Erreur note 3");
		document.getElementById("p3"+id).value = cof;
	}
	if(e4>cof){
		AlertMessa("Erreur note 4");
		document.getElementById("p4"+id).value = cof;
	}	
	if(e5>cof){
		AlertMessa("Erreur note 5");
		document.getElementById("p5"+id).value = cof;
	}
	if(e6>cof){
		AlertMessa("Erreur note 6");
		document.getElementById("p6"+id).value = cof;
	}	
	if(e7>cof){
		AlertMessa("Erreur note 7");
		document.getElementById("p7"+id).value = cof;
	}
	if(e8>cof){
		AlertMessa("Erreur note 8");
		document.getElementById("p8"+id).value = cof;
	}	
	if(e9>cof){
		AlertMessa("Erreur note 9");
		document.getElementById("p9"+id).value = cof;
	}
	if(e10>cof){
		AlertMessa("Erreur note 10");
		document.getElementById("p10"+id).value = cof;
	}	
	if(e11>cof){
		AlertMessa("Erreur note 11");
		document.getElementById("p1"+id).value = cof;
	}
	if(e12>cof){
		AlertMessa("Erreur note 12");
		document.getElementById("p12"+id).value = cof;
	}	
*/


$.ajax({
       url : base_url+'parser',
       type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
        'idbulletin':id,
		'e1'  : e1, 
        'e2'  : e2,
		'e3'  : e3,
		'e4'  : e4,
		'e5'  : e5,
		'e6'  : e6,
		'e7'  : e7,
        'e8'  : e8, 
        'e9'  : e9,
		'e10' : e10,
		'e11' : e11,
		'e12' : e12		
      },	   
       dataType : 'html', // On désire recevoir du HTML
       success : function(code_html, statut){ // code_html contient le HTML renvoyé
		
       }
    });
	
}



function PosterNoteBlancMatiere(id){
	
	var cof = document.getElementById("ycoef"+id).value;
	
	var e1 	= document.getElementById("y1"+id) ? document.getElementById("y1"+id).value  : "-1000";
	var e2 	= document.getElementById("y2"+id) ? document.getElementById("y2"+id).value  : "-1000";
    var e3 	= document.getElementById("y3"+id) ? document.getElementById("y3"+id).value  : "-1000";
    var e4 	= document.getElementById("y4"+id) ? document.getElementById("y4"+id).value  : "-1000";
	var e5 	= document.getElementById("y5"+id) ? document.getElementById("y5"+id).value  : "-1000";
	var e6 	= document.getElementById("y6"+id) ? document.getElementById("y6"+id).value  : "-1000";
    var e7 	= document.getElementById("y7"+id) ? document.getElementById("y7"+id).value  : "-1000";
	var e8 	= document.getElementById("y8"+id) ? document.getElementById("y8"+id).value  : "-1000";
    var e9 	= document.getElementById("y9"+id) ? document.getElementById("y9"+id).value  : "-1000";
    var e10 = document.getElementById("y10"+id) ? document.getElementById("y10"+id).value  : "-1000";
	var e11	= document.getElementById("y11"+id) ? document.getElementById("y11"+id).value  : "-1000";
	var e12	= document.getElementById("y12"+id) ? document.getElementById("y12"+id).value  : "-1000";
	
	if (e1 == ""){e1="-1000"};
	if (e2 == ""){e2="-1000"};
	if (e3 == ""){e3="-1000"};
	if (e4 == ""){e4="-1000"};
	if (e5 == ""){e5="-1000"};
	if (e6 == ""){e6="-1000"};
	if (e7 == ""){e7="-1000"};
	if (e8 == ""){e8="-1000"};
	if (e9 == ""){e9="-1000"};
	if (e10 == ""){e10="-1000"};
	if (e11 == ""){e11="-1000"};
	if (e12 == ""){e12="-1000"};
	

$.ajax({
       url : base_url+'parser',
       type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
        'idbulletinblanc':id,
		'e1'  : e1, 
        'e2'  : e2,
		'e3'  : e3,
		'e4'  : e4,
		'e5'  : e5,
		'e6'  : e6,
		'e7'  : e7,
        'e8'  : e8, 
        'e9'  : e9,
		'e10' : e10,
		'e11' : e11,
		'e12' : e12		
      },	   
       dataType : 'html', // On désire recevoir du HTML
       success : function(code_html, statut){ // code_html contient le HTML renvoyé
		
       }
    });

}









//=====================================



    $("#paiement").click(function(){
        $("#responsive").modal('show');
    });


		 $(document).ajaxStop(function(){
            console.debug("ajaxStop");
            $("#ajax_loader").hide();
         });
         $(document).ajaxStart(function(){
             console.debug("ajaxStart");
             $("#ajax_loader").show();
         });
		 
function LoadApp(){
	
	console.debug("click start");
	jQuery.event.trigger("ajaxStart");
	e.preventDefault();
		
}

function StopApp(){
	
	console.debug("click stop");
	jQuery.event.trigger("ajaxStop");
	e.preventDefault();
		
}



$(function(){
	 $('#btnres').click(function(){
		  alert('ok');
		  $('#responsive').modal('hide');
	  });
  });



$(function() {
    function reposition() {
        var modal = $(this),
            dialog = modal.find('.modal-dialog');
        modal.css('display', 'block');
        
        // Dividing by two centers the modal exactly, but dividing by three 
        // or four works better for larger screens.
        dialog.css("margin-top", Math.max(0, ($(window).height() - dialog.height()) / 2));
    }
    // Reposition when a modal is shown
    $('.modal').on('show.bs.modal', reposition);
    // Reposition when the window is resized
    $(window).on('resize', function() {
        $('.modal:visible').each(reposition);
    });
});



function LoadPaiement(){
	var result = $('#iddesc').val().split('|');
	 $('#montant').val(parseFloat(result[1]).toFixed(2));
}

function UpdatePmtetu(id){
			
			
			$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_UppaiementEtud'	: 'ok', 
				'id'				: id, 
				'valeur'			: $('#mtdu'+id).val(),
				'pourcent'			: $('#b10' +id).val(),
				'dlimit'			: $('#b11' +id).val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				  
			   }
			});
}



function FormationClassePalmaresse2(){
$("#tablebulletin").html("");

var txt = $('#classe').val();

var arr = txt.split('____');

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstPromoPalmaresse_access'	: 'ok', 
				'classe'					    : arr[0],
                'groupeleve'                    : arr[1],
				'matiere'				        : arr[2],
				'anneeacad'					    : $('#anneeacad').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
					$("#lstpalmaresse").html(code_html);
					
			   }
			});	
			
}


function FormationClasse2(){

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstPromo2'				: 'ok', 
				'classe'					: $('#classe').val(),
				'groupeleve'				: $('#groupeleve').val(),
				'anneeacad'					: $('#anneeacad').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
					$("#lstformationclasse").html(code_html);
					
			   }
			});	
			
}

function Import(){
            
            if($('#classeselect2').val()==""){
                    AlertMessa('Veuillez sélectionner une classe.');
            }else{
                if($('#groupeleve').val()==""){
                    AlertMessa('Veuillez sélectionner un groupe.');
                }else{
                    
                    
                    $("#title-message").html("Voulez-vous Importer ces enregistrements dans la base de données?");          
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [
                            {
                                html: "<i class='ace-icon fa fa-download bigger-110'></i>&nbsp; Importer",
                                "class" : "btn btn-danger btn-minier",
                                click: function() {
                                
                                    
                                    $.ajax({
                                       url : base_url+'parser',
                                       type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                                       data: { 
                                        'classe'            :   $('#classeselect2').val(),
                                        'groupeleve'        :   $('#groupeleve').val(),
                                        'anneeacademique'   :   $('#annee_ajax').val(),
                                        'MM_import'         :   'ok'        
                                      },
                                       
                                       dataType : 'html', // On désire recevoir du HTML
                                       success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                          window.location.replace(base_url+'importer-eleve');
                                       }
                                    });
                                    
                                    
                                    
                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    });
                                        
                }
            }
            
            
                    
}

function ImportBulletin(){
			
			if($('#lesPeriodes').val()==""){
					AlertMessa('Veuillez sélectionner une période.');
			}else{
					
					$("#title-message").html("Voulez-vous Importer ces enregistrements dans la base de données?<br>Attention!!! Toutes notes existantes pour cette période sera remplacées.");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [
							{
								html: "<i class='ace-icon fa fa-download bigger-110'></i>&nbsp; Importer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
								
									
									$.ajax({
									   url : base_url+'parser',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'lesPeriodes' 		 : 	$('#lesPeriodes').val(),
										'anneeacademique'	 :  $('#annee_ajax').val(),
										'MM_import_bulletin' : 	'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  window.location.replace(base_url+'importer-bulletin-eleve');
									   }
									});
									
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
										
				
			}
			
			
					
}


function U_Import(){
			
			if($('#leprogramme').val()=="" && $('#leparcours').val()==""){
					AlertMessa('Veuillez sélectionner un programme ou un parcours type.');
			}else{
				if($('#groupeleve').val()==""){
					AlertMessa('Veuillez sélectionner un groupe.');
				}else{
					
					
					$("#title-message").html("Voulez-vous Importer ces enregistrements dans la base de données?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [
							{
								html: "<i class='ace-icon fa fa-download bigger-110'></i>&nbsp; Importer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
								
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'leprogramme' 		: $('#leprogramme').val(),
										'leparcours' 		: $('#leparcours').val(),
										'groupeleve' 		: $('#groupeleve').val(),
										'anneeacademique'	: $('#annee_ajax').val(),
										'vaccation'			: $('#vaccation').val(),
										'MM_U_import' 		: 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  
									   }
									});
									
									window.location.replace('u_importer.php?act=etu&imp_etu=OK');
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
										
				}
			}
			
			
					
}

function Recette(){

			$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_recette'	:'ok', 
				'du'			: $('#du').val(),
				'au'			: $('#au').val(),
				'classeselect'	: $('#classeselect').val(),
				'sectionselect'	: $('#sectionselect').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#tablerecette").html(code_html);
			   }
			});
}

function u_Recette(){

			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_recette_u'	:'ok', 
				'du'			: $('#du').val(),
				'au'			: $('#au').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#tablerecette").html(code_html);
			   }
			});
}


function FormationClasseBalance(id){

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstPromoBalance'		: 'ok', 
				'classe'					: $('#classe').val(),
				'groupeleve'				: $('#groupeleve').val(),
				'anneeacad'					: $('#anneeacad').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
					$("#lstformationclasse").html(code_html);
					
					
			   }
			});	
	if(id=='1'){
		ClasseBalance();
	}
			
}

function FormationClasseBalance2(id){

	$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstPromoBalance2'				: 'ok', 
				'classe'					: $('#classe').val(),
				'groupeleve'				: $('#groupeleve').val(),
				'anneeacad'					: $('#anneeacad').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
					$("#lstformationclasse").html(code_html);
					
					
			   }
			});	
	if(id=='1'){
		ClasseBalance2();
	}
			
}

function FormationClasseAbsence(){

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_Absence'				: 'ok', 
				'classe'					: $('#classe').val(),
				'groupeleve'				: $('#groupeleve').val(),
				'anneeacad'					: $('#anneeacad').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
					var result = code_html.split('___');
					
					$("#lstformationclasse").html(result[0]);
					$("#lstperiodes").html(result[1]);
					
			   }
			});	
			
}

function CkAbs(id){
	 $("#retard"+id).prop('checked', false);
}
function CkRetard(id){
	 $("#abs"+id).prop('checked', false);
}

function change_pass(gp, id){
	
		$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_change_passe'	: 'ok', 
				'mpa'				: $('#mpa').val(),
				'nmp'				: $('#nmp').val(),
				'cnmp'				: $('#cnmp').val(),
				'gp'				: gp,
				'id'				: id
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    $("#reponse").html(code_html);
					$('#mpa').val("");
					$('#nmp').val("");
					$('#cnmp').val("");
			   }
			});
}



function ChangeAnnee(id){
	
	switch (id) {
    case '1':
        //-------------------------
			$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ch_niveau'		   : id,
			'nouvelleannee'    : $('#newannee').val(),
			'anneeactuelle'    : $('#annee_ajax').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
			$("#progresspromo").html(code_html);
			}
			});
		//-------------------------
        break;
    case '2':
        //-------------------------
			$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ch_niveau'		   : id
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
			$("#progresspromo").html(code_html);
			}
			});
		//-------------------------
        break;
    case '3':
         //-------------------------
			 Avance(50);
			$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'idconfig_eco_add'	:'ok'
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#progresspromo").html(code_html);
			}
			});
		//-------------------------
        break;
}

}



function Avance(id){
	
	$('.progress-bar').css('width', id+'%').attr('aria-valuenow', id); 	
	 
}

function sleep(delay) {
        var start = new Date().getTime();
        while (new Date().getTime() < start + delay);
 }

 $(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip(); 
});


function Adddepense(letype){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val())<=0 || $("#montant").val()==""){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		$.ajax({
			url : base_url+'ecoles/depense/ajouter_depense',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'add_depense'	:'ok',
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val(),
			'letype'		:letype
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
				
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function Addrecu(letype){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val()=="")){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		
		$.ajax({
			url : base_url+'ecoles/recu/ajouter_recu',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'add_recu'	:'ok',
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val(),
			'letype'		:letype
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
		
		
		
		
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function Addrecu_u(letype){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val()=="")){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'add_recu_u'	:'ok',
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val(),
			'letype'		:letype
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
		
		
		
		
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function LstDepense(){
	$.ajax({
			url : base_url+'ecoles/depense/lister_depense',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'lst_depense'	:'ok',
			'du'			:$("#du").val(),
			'au'			:$("#au").val(),
			'categorie'		:$("#categorie").val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
}

function LstRecu(){
	$.ajax({
			url : base_url+'ecoles/recu/lister_recu',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'lst_recu'	:'ok',
			'du'			:$("#du").val(),
			'au'			:$("#au").val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
}

function Moddepense(){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val())<=0 || $("#montant").val()==""){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'mod_depense'	:'ok',
			'id'			:$("#id").val(),
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val()
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
		
		
		
		
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function Modrecu(){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val())<=0 || $("#montant").val()==""){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		
		$.ajax({
			url : base_url+'ecoles/recu/modifier_recu',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'mod_recu'	:'ok',
			'id'			:$("#id").val(),
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val()
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				
			}
			});
		
		
		
		
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function Modrecu_u(){
	var erreur = '';
	if($("#datedepense").val()==""){
			erreur +=" Date,";
	}
	if(parseFloat($("#montant").val())<=0 || $("#montant").val()==""){
			erreur +=" Montant,";
	}
	if($("#monnaie").val()==""){
			erreur +=" Monnaie,";
	}
	if($("#groupeleve").val()==""){
			erreur +=" Rubrique,";
	}
	if($("#description").val()==""){
			erreur +=" Description,";
	}
	if(erreur==""){
		$("#dmessage").removeClass( "show" );
		$("#dmessage").addClass( "hide" );
		
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'mod_recu_u'	:'ok',
			'id'			:$("#id").val(),
			'datedepense'	:$("#datedepense").val(),
			'montant'		:$("#montant").val(),
			'monnaie'		:$("#monnaie").val(),
			'description'	:$("#description").val(),
			'norecu'		:$("#norecu").val(),
			'idrubrique'	:$("#groupeleve").val(),
			'url'			:$("#url").val(),
			'fournisseur'	:$("#fournisseur").val(),
			'memo'			:$("#memo").val()
			
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#lstdep").html(code_html);
			}
			});
		
		
		
		
	}else{
		$("#dmessage").removeClass( "hide" );
		$("#dmessage").addClass( "show" );
		$("#dmessage").html('<i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Erreur: '+erreur);
		
	}
	
}

function ClonerClasse(){
	
	
	if($('#classeselectImport').val()==""){
		$("#clsimport").addClass( "hide" );
		$("#clsimport").removeClass( "show" );
	}else{
		$("#clsimport").addClass( "show" );
		$("#clsimport").removeClass( "hide" );
	}
}

function ClonerClasseOui(vers,lien){
		
		$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ClonnerClasse'	:'ok',
			'de'			:$('#classeselectImport').val(),
			'vers'			:vers
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				window.location.replace(lien);
			}
			});

}


function PosteFacUniv(){
	
	if($('#code').val()=="" || $('#libelle').val()==""){
		$("#umessage").addClass( "show" );
		$("#umessage").removeClass( "hide" );
		
		$("#umessage" ).html( "<strong>Erreur! </strong> Veuillez saisir un code et un libellé." );
		$("#umessage").addClass( "alert-danger" );
		$("#umessage").removeClass( "alert-success" );
		
	}else{
				
		$("#umessage").addClass( "alert-success" );
		$("#umessage").removeClass( "alert-danger" );
		$( "#umessage" ).html( "<strong>Félicitation! </strong> Enregistrement posté avec succès." );
		
		setTimeout(function(){
		  $("#umessage").addClass( "hide" );
		$("#umessage").removeClass( "show" );
		}, 3000);
	}
	
	$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_add_fac_u':'ok',
			'id'			:$('#code').val(),
			'libelle'		:$('#libelle').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				
				var valc = code_html.split('____');
				
				$("#liste_u_fac").html(valc[0]);
				$('#libelle').val("");
				$('#code').val("");
				$('#idfacetu').empty(); //remove all child nodes
				
				var newOption = valc[1];
				$('#idfacetu').append(newOption);
				$('#idfacetu').trigger("chosen:updated");
				
				$('#ec_fac').empty(); //remove all child nodes
				$('#ec_fac').append(newOption);
				$('#ec_fac').trigger("chosen:updated");
				
				
				$('#code').val("");
				$('#libelle').val("");
			}
			});
}


function DeleteFac_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_fac_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  var valc = code_html.split('____');
											$("#liste_u_fac").html(valc[0]);
											$('#idfacetu').empty(); //remove all child nodes		
											var newOption = valc[1];
											$('#idfacetu').append(newOption);
											$('#idfacetu').trigger("chosen:updated");
											
											$('#ec_fac').empty(); //remove all child nodes
											$('#ec_fac').append(newOption);
											$('#ec_fac').trigger("chosen:updated");
				
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function Mod_fac_u(id){
	
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_update_fac_u'	:'ok',
			'id'				:id,
			'libelle'			: $('#lib'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				var valc = code_html.split('____');
				$('#idfacetu').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#idfacetu').append(newOption);
				$('#idfacetu').trigger("chosen:updated");
				
				$('#ec_fac').empty(); //remove all child nodes
				$('#ec_fac').append(newOption);
				$('#ec_fac').trigger("chosen:updated");
			}
			});

}

function PosteDomaineU(){
	if($('#idfacetu').val()=='' || $('#libelled').val()==''){
		AlertMessa("Tous les champs sont obligatoires.");
	}else{
			
			$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_add_domaine_u'	:'ok',
			'libelle'			: $('#libelled').val(),
			'idfaculte_u'		: $('#idfacetu').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				var valc = code_html.split('____');
				$('#idfacetu').val("");
				$('#libelled').val("");
				$("#liste_u_domaine").html(valc[0]);
				
				$('#iddom').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#iddom').append(newOption);
				$('#iddom').trigger("chosen:updated");
				
				$('#iddom_p').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#iddom_p').append(newOption);
				$('#iddom_p').trigger("chosen:updated");
				
			}
			});
	}
}

function DeleteDom_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_domaine_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  var valc = code_html.split('____');
											$("#liste_u_domaine").html(valc[0]);
											
											$('#iddom').empty(); //remove all child nodes		
											var newOption = valc[1];
											$('#iddom').append(newOption);
											$('#iddom').trigger("chosen:updated");
											
											$('#iddom_p').empty(); //remove all child nodes		
											var newOption = valc[1];
											$('#iddom_p').append(newOption);
											$('#iddom_p').trigger("chosen:updated");
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function Mod_dom_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_dom_u'	:'ok',
			'id'				:id,
			'domaine'			: $('#dom'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 var valc = code_html.split('____');
				 $("#liste_u_domaine").html(valc[0]);
				 $('#iddom').empty(); //remove all child nodes		
				 var newOption = valc[1];
				 $('#iddom').append(newOption);
				 $('#iddom').trigger("chosen:updated");
				 
				 $('#iddom_p').empty(); //remove all child nodes		
				 var newOption = valc[1];
				 $('#iddom_p').append(newOption);
				 $('#iddom_p').trigger("chosen:updated");
			}
			});

}


function PosteMentionU(){
	if($('#iddom').val()=='' || $('#libellem').val()==''){
		AlertMessa("Tous les champs sont obligatoires.");
	}else{
			
			$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_add_mention_u'	:'ok',
			'libellem'			: $('#libellem').val(),
			'iddom'				: $('#iddom').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				var valc = code_html.split('____');
				$('#libellem').val("");
				$('#iddom').val("");
				$("#liste_u_mention").html(valc[0]);
				
				$('#idmention').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#idmention').append(newOption);
				$('#idmention').trigger("chosen:updated");
				
			}
			});
	}
}


function Mod_mention_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_mention_u'	:'ok',
			'id'					:id,
			'mention'				:$('#mention'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 var valc = code_html.split('____');
				 $("#liste_u_mention").html(valc[0]);
				$('#idmention').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#idmention').append(newOption);
				$('#idmention').trigger("chosen:updated");
			}
			});

}

function DeleteMention_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_mention_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  var valc = code_html.split('____');
											$("#liste_u_mention").html(valc[0]);
									
									$('#idmention').empty(); //remove all child nodes		
				var newOption = valc[1];
				$('#idmention').append(newOption);
				$('#idmention').trigger("chosen:updated");
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}



function PosteSpecialU(){
	if($('#idmention').val()=='' || $('#libellesp').val()==''){
		AlertMessa("Tous les champs sont obligatoires.");
	}else{
			
			$.ajax({
			url 	: 'parser.php',
			type 	: 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data	: { 
			'MM_add_special_u'	:'ok',
			'libellesp'			: $('#libellesp').val(),
			'idmention'			: $('#idmention').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				var valc = code_html.split('____');
				$('#libellesp').val("");
				$('#idmention').val("");
				$("#liste_u_special").html(valc[0]);
				
			}
			});
	}
}

function Mod_special_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_special_u'	:'ok',
			'id'					:id,
			'specialite'			:$('#spe'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 var valc = code_html.split('____');
				 $("#liste_u_special").html(valc[0]);
			}
			});

}

function DeleteSpe_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_special_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  var valc = code_html.split('____');
											$("#liste_u_special").html(valc[0]);
									
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}



function PosteGradeU(){
	if($('#grade').val()==''){
		AlertMessa("Veuillez saisir un grade.");
	}else{
			
			$.ajax({
			url 	: 'parser.php',
			type 	: 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data	: { 
			'MM_add_grade_u':'ok',
			'grade'			: $('#grade').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$('#grade').val("");
				$("#liste_u_grade").html(code_html);
				Reset_diplome();
				
			}
			});
	}
}

function DeleteGrade_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_grade_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 $("#liste_u_grade").html(code_html);
									     Reset_diplome();
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function Mod_grade_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_grade_u'	:'ok',
			'id'					:id,
			'gr'					:$('#grade'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 $("#liste_u_grade").html(code_html);
				 Reset_diplome();
			}
			});

}

function PosteNiveauU(){
	if($('#niveau').val()==''){
		AlertMessa("Veuillez saisir un niveau.");
	}else{
			
			$.ajax({
			url 	: 'parser.php',
			type 	: 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data	: { 
			'MM_add_niveau_u'	:'ok',
			'niveau'			: $('#niveau').val(),
			'ordre'				: $('#ordreniveau').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$('#niveau').val("");
				$('#ordreniveau').val("");
				$("#liste_u_niveau").html(code_html);
				Reset_niveau();
				
			}
			});
	}
}

function Mod_niveau_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_niveau_u'	:'ok',
			'id'					:id,
			'niveau'				:$('#niveau'+id).val(),
			'b6'					:$('#b6'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 $("#liste_u_niveau").html(code_html);
				 Reset_niveau();
			}
			});

}

function DeleteNiveau_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_niveau_u'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 $("#liste_u_niveau").html(code_html);
										
											Reset_niveau();
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function PosteUE(){
	if($('#typeUE').val()=='' || $('#codeue').val()=='' || $('#ue').val()==''){
		AlertMessa("Tous les champs sont obligatoires.");
	}else{
			
			$.ajax({
			url 	: 'parser.php',
			type 	: 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data	: { 
			'MM_add_ue'			:'ok',
			'typeue'			: $('#typeUE').val(),
			'codeue'			: $('#codeue').val(),
			'ue'				: $('#ue').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$('#typeue').val("");
				$('#codeue').val("");
				$('#ue').val("");
				if(code_html=="trouve"){
					AlertMessa("Ce code UE est déjà utilisé.");
				}else{
					
					var valc = code_html.split('____');
					$("#liste_ue").html(valc[0]);
					
					$('#le_ue').empty(); //remove all child nodes		
					var newOption = valc[1];
					$('#le_ue').append(newOption);
					$('#le_ue').trigger("chosen:updated");
				}
				
				
			}
			});
	}
}

function Mod_ue(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_ue'			:'ok',
			'id'					:id,
			'idtypeue'				:$('#idtypeue'+id).val(),
			'ue'					:$('#libelle'+id).val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
					
					var valc = code_html.split('____');
					$("#liste_ue").html(valc[0]);
					
					$('#le_ue').empty(); //remove all child nodes		
					var newOption = valc[1];
					$('#le_ue').append(newOption);
					$('#le_ue').trigger("chosen:updated");
			}
			});

}

function Delete_ue(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_ue'   : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 
											var valc = code_html.split('____');
											$("#liste_ue").html(valc[0]);
											
											$('#le_ue').empty(); //remove all child nodes		
											var newOption = valc[1];
											$('#le_ue').append(newOption);
											$('#le_ue').trigger("chosen:updated");
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function PosteCours(){
	if($("#codecours").val()=="" || $("#libcours").val()=="" || $("#credit").val()=="" || $("#le_ue").val()=="" || $("#ec_fac").val()==""){
		AlertMessa("Les champs précédés d'un (*) sont obligatoires.");
	}else{
			$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'add_cours_u'	:'ok',
			'c1'			:$('#codecours').val(),
			'c2'			:$('#libcours').val(),
			'c3'			:$('#cm').val(),
			'c4'			:$('#td').val(),
			'c5'			:$('#tp').val(),
			'c6'			:$('#tpr').val(),
			'c7'			:$('#credit').val(),
			'c8'			:$('#le_ue').val(),
			'c9'			:$('#ec_fac').val(),
			'c10'			:$('#prerequis').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
					
					if(code_html=="no"){
						AlertMessa("Ce code cours existe dans la base de données.");
					}else{
					$("#liste_cours_u").html(code_html);
				 	
					$('#codecours').val("");
					$('#libcours').val("");
					$('#cm').val("");
					$('#td').val("");
					$('#tp').val("");
					$('#tpr').val("");
					$('#credit').val("");
					$('#le_ue').val("");
					$('#ec_fac').val("");	
					}
					
			}
			});
	}
}

function Mod_cours_u(id){
	
		$.ajax({
			url  : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_update_cours_u'		:'ok',
			'id'					:id,
			'lib'					:$('#libelle'+id).val(),
			'cm'					:$('#cm'+id).val(),
			'td'					:$('#td'+id).val(),
			'tp'					:$('#tp'+id).val(),
			'tpr'					:$('#tpr'+id).val(),
			'cr'					:$('#cr'+id).val(),
			'pre'					:$('#pre'+id).val(),
			'l_page'				:$('#l_page').val(),
			'l_total'				:$('#l_total').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 
				 $("#liste_cours_u").html(code_html);
			}
			});

}

function Insc_enLigne(){
		
		$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_get_ins'	: 'ok',
			'cle_pre'		: $('#cle_pre').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 $("#td_resultat").html(code_html);
			}
			});
}

function Insc_u_enLigne(){
		$.ajax({
			url  : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_get_u_ins'	:'ok',
			'cle'			:$('#cle').val(),
			'idfac_decanat'	:$('#idfac').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 $("#td_resultat").html(code_html);
			}
			});
}

function Insc_u_enLigne2(){
		$.ajax({
			url  : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data : { 
			'MM_get_u_ins2'	:'ok',
			'cle'			:$('#cle').val()
			},

			dataType : 'html', // On désire recevoir du HTML
			success : function(code_html, statut){ // code_html contient le HTML renvoyé
				 $("#td_resultat").html(code_html);
			}
			});
}

function Add_inscription(id){
		
					var result = $('#annee_ajax').val().split('-');

					var anneeSuivante = (parseInt(result[0])+1) +"-"+ (parseInt(result[1])+1);
				
					$("#title-message").html(msg_add_eleve);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '420',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "&nbsp; "+$('#annee_ajax').val()+" ?",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									$.ajax({
									   url : base_url+'parser',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'MM_Add_inscription'   : 'ok',
										'nom'					: $('#nomu'+id).val(),
										'prenom'				: $('#prenomu'+id).val(),
										'sexe'					: $('#sexeu'+id).val(),
										'datenais'				: $('#datenaisu'+id).val(),
										'pays'					: $('#paysu'+id).val(),
										'commune'				: $('#communeu'+id).val(),
										'idministere'			: '',
										'classe'				: $('#classeu'+id).val(),
										'groupeleve'			: '---',
										'telephone'				: $('#telephoneu'+id).val(),
										'portable'				: '',
										'nommere'				: $('#nommereu'+id).val(),
										'prenommere'			: $('#prenommereu'+id).val(),
										'cpostal'				: $('#cpostalu'+id).val(),
										'adressepostale'		: $('#adressepostaleu'+id).val(),
										'information'			: '',
										'anneeacademique'		: $('#annee_ajax').val(),
										'nodossier'				: $('#nodossier'+id).val(),
										'url'					: '',
										'nextyear'				: '0'
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 if(code_html==''){}else{
											$("#meserr").removeClass( "hide" );
											$("#meserr").addClass( "show" );
											$("#meserr").html(code_html); 
										 }
										 
										 Insc_enLigne();
										 rafraichir(base_url+"ecoles/recu/frais_pre_inscription/Frais de pré-inscription de "+$('#prenomu'+id).val()+" "+$('#nomu'+id).val()+"/"+code_html);
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "&nbsp; "+anneeSuivante+" ?",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									$.ajax({
									   url : base_url+'parser',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'MM_Add_inscription'   : 'ok',
										'nom'					: $('#nomu'+id).val(),
										'prenom'				: $('#prenomu'+id).val(),
										'sexe'					: $('#sexeu'+id).val(),
										'datenais'				: $('#datenaisu'+id).val(),
										'pays'					: $('#paysu'+id).val(),
										'commune'				: $('#communeu'+id).val(),
										'idministere'			: '',
										'classe'				: $('#classeu'+id).val(),
										'groupeleve'			: '---',
										'telephone'				: $('#telephoneu'+id).val(),
										'portable'				: '',
										'nommere'				: $('#nommereu'+id).val(),
										'prenommere'			: $('#prenommereu'+id).val(),
										'cpostal'				: $('#cpostalu'+id).val(),
										'adressepostale'		: $('#adressepostaleu'+id).val(),
										'information'			: '',
										'anneeacademique'		: anneeSuivante,
										'nodossier'				: $('#nodossier'+id).val(),
										'url'					: '',
										'nextyear'				: '0'
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 if(code_html==''){}else{
											$("#meserr").removeClass( "hide" );
											$("#meserr").addClass( "show" );
											$("#meserr").html(code_html); 
										 }
										 
										 Insc_enLigne();
										 rafraichir(base_url+"ecoles/recu/frais_pre_inscription/Frais de pré-inscription de "+$('#prenomu'+id).val()+" "+$('#nomu'+id).val()+"/"+code_html);
									   }
									});
									
									$( this ).dialog( "close" );
								}
							},
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function Refuser_inscription(id){
		
					$("#title-message").html(msg_delete);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '420',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "&nbsp; "+btn_yes,
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									$.ajax({
									   url : base_url+'parser',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'MM_Refuser_inscription'   : 'ok',
										'nom'					: $('#nomu'+id).val(),
										'prenom'				: $('#prenomu'+id).val(),
										'sexe'					: $('#sexe'+id).val(),
										'nodossier'				: $('#nodossier'+id).val()
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 if(code_html==''){}else{
											$("#meserr").removeClass( "hide" );
											$("#meserr").addClass( "show" );
											$("#meserr").html(code_html); 
										 }
										 
										 Insc_enLigne();
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function Duppliquer_periode(id){
		
					$("#title-message").html("Voulez-vous effectuer cette op&eacute;ration?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-plus bigger-110'></i>&nbsp; Appliquer",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									$.ajax({
									   url : base_url+'parser',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'MM_appliquer_periode'  : 'ok',
										'idclasse_periode'		: id
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 AlertMessa('Information postée avec succès.');
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function ClasseBalance(){
	var idcls 			= $('#classe').val();
	
	$.ajax({
		   url : base_url+'parser',
		   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		   data: { 
			'MM_BalanceClasse'	:'ok',
			'id'				: idcls	
		  },
		   
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			    
				$('#groupeleve').empty(); //remove all child nodes		
				var newOption = code_html;
				$('#groupeleve').append(newOption);
				$('#groupeleve').trigger("chosen:updated");
			   
		   }
		});
		
		return "ok";
}

function ClasseBalance2(){
	var idcls 			= $('#classe').val();
	
	$.ajax({
		   url : 'parser.php',
		   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		   data: { 
			'MM_BalanceClasse2'	:'ok',
			'id'				: idcls	
		  },
		   
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			    
				$('#groupeleve').empty(); //remove all child nodes		
				var newOption = code_html;
				$('#groupeleve').append(newOption);
				$('#groupeleve').trigger("chosen:updated");
			   
		   }
		});
		
		return "ok";
}


function Delete_cours_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_cours_u' : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 $("#liste_cours_u").html(code_html);
									
									
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


$('#iddom_p').on('change', function () {

			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_mention_par_domaine': 'ok',
				'id'					: $('#iddom_p').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
				$('#idmention_p').empty(); //remove all child nodes	
				var newOption = code_html;
				$('#idmention_p').append(newOption);
				$('#idmention_p').trigger("chosen:updated");
				
			    $('#specialite_p').empty();
				var newOption = "<option value=''>-- Sp&eacute;cialit&eacute;s --</option>";
				$('#specialite_p').append(newOption);
				$('#specialite_p').trigger("chosen:updated");
				
				Reset_niveau();
				Reset_diplome();
			   }
			});	 
	
});


$('#idmention_p').on('change', function () {

			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_specialite_par_mention': 'ok',
				'id'					   : $('#idmention_p').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
				$('#specialite_p').empty(); //remove all child nodes		
				var newOption = code_html;
				$('#specialite_p').append(newOption);
				$('#specialite_p').trigger("chosen:updated");
				
			   }
			});	 
	
});

function Reset_niveau(){
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'Reset_niveau': 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
				$('#niv_p').empty(); //remove all child nodes		
				var newOption = code_html;
				$('#niv_p').append(newOption);
				$('#niv_p').trigger("chosen:updated");
				
			   }
			});	
}


function Reset_diplome(){
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'Reset_diplome': 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				    
				$('#dip_p').empty(); //remove all child nodes		
				var newOption = code_html;
				$('#dip_p').append(newOption);
				$('#dip_p').trigger("chosen:updated");
				
			   }
			});	
}
	
function New_programme(){
	$("#new_programme").removeClass( "hide" );
	$("#new_programme").addClass( "show" );
	
	$("#table_new").removeClass( "show" );
	$("#table_new").addClass( "hide" );
}

function p_close(){
	Liste_Programme_u();
	$("#new_programme").removeClass( "show" );
	$("#new_programme").addClass( "hide" );
	
	$("#table_new").removeClass( "hide" );
	$("#table_new").addClass( "show" );
	
}


function Details_programme(id){

	if($("#etat"+id).val()=="0"){
			$("#"+id).removeClass( "hide" );
			$("#"+id).addClass( "show" );
			$("#etat"+id).val('1');
	}else{
			$("#"+id).removeClass( "show" );
			$("#"+id).addClass( "hide" );
			$("#etat"+id).val('0');
	}
}

function Liste_Programme_u(){
				Liste_Programme_u2();
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'Liste_Programme_u': 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				
				$("#ListeProgramme_u").html(code_html);
				}
			});	
}

function Liste_Programme_u2(){
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'Liste_Programme_u2': 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				
				$("#ListeProgramme_u2").html(code_html);
				}
			});	
}

function Delete_Programme_u(id){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'MM_delete_Prog_u' : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 Liste_Programme_u();
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function PosteProgramme_u(){
	if($("#iddom_p").val()=="" || $("#idmention_p").val()=="" || $("#niv_p").val()=="" || $("#dip_p").val()=="" || $("#session_p").val()=="" || $("#moy_p").val()=="" || $("#moy_ec").val()=="" || $("#statut_p").val()=="" || $("#prog_s").val()==""){
		AlertMessa("Les champs marqués d'un astérisque sont obligatoires.");
		
	}else{
		
		$.ajax({
		   url : 'parser.php',
		   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		   data: { 
			'MM_Poster_programme_u'  : 'ok',
			'a1'		: $("#iddom_p").val(),
			'a2'		: $("#idmention_p").val(),
			'a3'		: $("#specialite_p").val(),
			'a4'		: $("#niv_p").val(),
			'a5'		: $("#dip_p").val(),
			'a6'		: $("#statut_p").val(),
			'a7'		: "",
			'a8'		: "",
			'a9'		: $("#session_p").val(),
			'a10'		: $("#resp").val(),		
			'a11'		: $("#moy_p").val(),
			'a12'		: $("#moy_ec").val(),			
			'a13'		: $("#prog_s").val(),
			'a14'		: "",
			'a15'		: "",
			'a16'		: ""
			
		  },
		   
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			 $("#iddom_p").val("");
			 $("#idmention_p").val("");
			 $("#specialite_p").val("");
			 $("#niv_p").val("");
			 $("#dip_p").val("");
			 $("#statut_p").val("");
			 $("#session_p").val("");
			 $("#resp").val("");
			 $("#moy_p").val("");
			 $("#moy_ec").val("");
			 $("#prog_s").val("");
			 p_close();
		   }
		});
		
		
	}
}


$( "#btn_add_p" ).on( "click", function() {
		$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_Up_pro_u': 'ok',
				'id'		 : $("#id").val(),
				'a2'		 : $("#idmention_p").val(),
				'a3'		 : $("#specialite_p").val(),
				'a4'		 : $("#niv_p").val(),
				'a5'		 : $("#dip_p").val(),
				'a6'		 : $("#statut_p").val(),
				'a7'		 : $("#du2").val(),
				'a8'		 : $("#au2").val(),
				'a9'		 : $("#session_p").val(),
				'a10'		 : $("#resp").val(),		
				'a11'		 : $("#moy_p").val(),
				'a12'		 : $("#moy_ec").val(),			
				'a13'		 : $("#prog_s").val(),
				'a14'		 : $("#frais").val(),
				'a15'		 : $("#taux").val(),
				'a16'		 : $("#lien_s").val(),
				'a17'		 : $("#cat_formation").val(),
				'a18'		 : $("#limite_cr").val(),
				'a19'		 : $("#total_credit").val(),
				'a20'		 : $("#titrec").val(),
				'a21'		 : $("#annee_ins").val(),
				'a22'		 : $("#session_ins").val(),
				'a23'		 : $("#periode_formation").val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#dmessage").removeClass( "hide" );
					$("#dmessage").addClass( "show" );
					if($("#cat_formation").val()==""){
						$("#btn_certificat").hide();
					}else{
						$("#btn_certificat").show();
					}
					
			   }
			});	
			
			
	//============
	$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_pub_programme'	: 'ok',
			'urlinscription'	: $("#urlinscription").val(),
			'urlpostinscrit'	: $("#urlpostinscrit").val(),
			'urlcatalogue'		: $("#urlcatalogue").val(),
			'lien'		 		: $("#lien").val(),
			'id'		 		: $("#id").val()
			
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			
	   }
	});
	//============
});

$( "#btn_add_ec" ).on( "click", function() {
		var lasession="";
		if($("#semestre").val()!=""){
			lasession = $("#semestre").val(); 
		}
		if($("#session").val()!=""){
			lasession = $("#session").val(); 
		}
		if(lasession==""){
			AlertMessa("Veuillez saisir un semestre ou une session.");
		}else{

			if($("#codeec").val()==""){
				AlertMessa("Veuillez saisir un code de cours ou un code UE.");
			}else{
				//=============================
					$.ajax({
					   url : 'parser.php',
					   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					   data: { 
						'MM_add_les_ec'		: 'ok',
						'idprogramme'		: $("#idprogramme").val(),
						'idcours'		 	: $("#codeec").val(),
						'session'		 	: lasession						
					  },			   
					   dataType : 'html', // On désire recevoir du HTML
					   success : function(code_html, statut){ // code_html contient le HTML renvoyé
							$("#idl_parcours").html(code_html);
					   }
					});	
				//=============================
			}
		}
	
});

$( "#semestre" ).on( "change", function() {
	$("#session").val("");
});


$( "#session" ).on( "change", function() {
	$("#semestre").val("");
});

function Delete_Parcours_u(id,idprog){
		
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id' 				: id,
										'idprog' 			: idprog,
										'MM_delete_Parcours_u' : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										 $("#idl_parcours").html(code_html);
									   }
									});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function ChoixProgramme(){
	$('#leparcours').val("");
}
function ChoixParcours(){
	$('#leprogramme').val("");
}

function Lst_etudiant(){

	if($('#leprogramme').val()==''){
		
	}else{
			$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_liste_etudiant_par_programme' 	: 'ok',
		'anneeacad' 						: $('#anneeacad').val(),
		'session' 							: $('#session').val(),
		'leprogramme' 						: $('#leprogramme').val(),
		'vaccation' 						: $('#vaccation').val(),
		'groupeleve' 						: $('#groupeleve').val()
		
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		 $("#lstformationclasse").html(code_html);
	   }
	});
	}

}


function Annee_promo(){	
	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Get_session' 			: 'ok',
		'idpromotion_promo' 		: $('#annee_promo').val(),
		'idetuajax_promo' 			: $('#idetuajax').val(),
		'lasession' 				: $('#lasession').val(),
		'choix_annee'				: ''
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		var valc = code_html.split('____');
		$("#lasession").html(valc[0]);	
		$("#tablebulletin").html(valc[1]);
	   }
	});
	
}



function U_update_note(id){

	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Mod_unote' 	: 'ok',
		'idnote' 		: id,
		'l1'			: $('#l1'+id).val(),
		'n1'			: $('#n1'+id).val(),
		'n2'			: $('#n2'+id).val(),
		'n3'			: $('#n3'+id).val(),
		'v1'			: $('#v1'+id).val(),
		'x1'			: $('#x1'+id).val(),
		'x2'			: $('#x2'+id).val(),
		'x3'			: $('#x3'+id).val(),
		'mp'			: $('#mp'+id).val(),
		'nt'			: $('#nt'+id).val(),
		'etnot'			: $('#etnot'+id).val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			//Annee_promo();
	   }
	});
	
}

function Deletereleve(id){
					$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'idreleve' 			: id,
										'MM_Delete_releve'  : 'ok'		
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										  Annee_promo();   
									   }
									});
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}


function Faire_choix(id){
	if(id=="1"){
		
		$("#choix_cours").removeClass( "hide" );
		$("#choix_cours").addClass( "show" );
		
		$("#gestion_note").removeClass( "show" );
		$("#gestion_note").addClass( "hide" );
		
	}else{
		$("#choix_cours").removeClass( "show" );
		$("#choix_cours").addClass( "hide" );
		
		$("#gestion_note").removeClass( "hide" );
		$("#gestion_note").addClass( "show" );
	}

}

function Ajouter_choix_cours(){
	var an = $('#annee_choix').val();
	var ses = $('#session_choix').val();
	var idcours = $("#idcours_choix").val();
	var idcours2 = $("#idcoursmult_choix").val();
	if(an.trim()==""){
		AlertMessa("Veuillez saisir une année académique.");
	}else{
		if($('#semestre').val()=="" && ses.trim()==""){
			AlertMessa("Veuillez saisir une session ou un semestre.");
		}else{
			var sess = "";
			if($('#semestre').val() !=""){
				sess = $('#semestre').val();
			}
			if(ses.trim()!=""){
				sess = ses.trim();
			}
			if(idcours.trim()=="" && idcours2.trim()==""){
				AlertMessa("Veuillez ajouter un ou des codes de cours");
			}else{
				if($("#idcours_choix").val() != ""){
					idcours = $("#idcours_choix").val();
				}
				if($("#idcoursmult_choix").val() != ""){
					idcours = $("#idcoursmult_choix").val();
				}
				if(an=="-1"){
					an = l_annee(sess);
				}
				
				$.ajax({
				   url : 'parser.php',
				   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
				   data: { 
					'MM_add_choix_cours' 		: 'ok',
					'annee' 					: an,
					'lasession' 				: sess,
					'idprogramme' 				: $('#leprogramme__2').val(),
					'idetuajax_promo' 			: $('#idetuajax').val(),
					'idcours'					: idcours.trim(),
					'regime'					: $('#regime').val(),
					'groupe_salle'				: $('#groupe_salle').val()
				  },
				   
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                       Annee_promo2(an,sess);
				   }
				});

			}
		}
	}
}

function Annee_promo2(annee,sess){
	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Get_session' 			: 'ok',
		'idpromotion_promo' 		: annee,
		'idetuajax_promo' 			: $('#idetuajax').val(),
		'lasession' 				: sess,
		'choix_annee'				: 'oui'
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		var valc = code_html.split('____');
		$("#lasession").html(valc[0]);	
		$("#tablebulletin").html(valc[1]);
	   }
	});
	
}

function Inscription(){
    if($('#leparcours').val()=="" && $('#leprogramme').val()==""){
		AlertMessa("Veuillez saisir un programme ou un parcours");
	}else{
	
	
					$("#title-message").html("Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
									$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_add_Inscription2' 	: 'ok',
		'annee_academique' 		: $('#annee_actuelle_ajax').val(),
		'programme'             : $('#leprogramme').val(),
		'parcours'             	: $('#leparcours').val(),
		'codeetu' 				: $('#idetuajax').val(),
		'regime' 				: $('#regime1').val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
	       window.location.replace("u_modeleve.php?act=etu&id="+$('#idetuajax').val()+"&page=3");
	   }
	});
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	
	}
	
	
}


function ModeVacc(id){
	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Mod_vaccation' 	: 'ok',
		'id' 				: id,
		'vacc'      		: $('#vacc'+id).val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé

	   }
	});
	
}


function ModGroupe(id){
	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Mod_Groupe' 	: 'ok',
		'id' 				: id,
		'gr'      			: $('#gr'+id).val(),
		'org'      			: $('#org'+id).val(),
		'pc'      			: $('#pc'+id).val(),
		'tel'      			: $('#tel'+id).val(),
		'stw'      			: $('#stw'+id).val(),
		'regim'      		: $('#regim'+id).val()
	   },
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé

	   }
	});
	
}

$('#choix_note').change(function() {
  var etat = 0;
  if ($(this).is(':checked')) {
    etat = 1;
  } else {
    etat = 0;
  }
  
  
  	$.ajax({
	   url : base_url+'parser',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Access_note' 	: 'ok',
		'etat' 				: etat,
		'id'      			: $('#idetu').val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé

	   }
	});
  
  
});



function AffichePalmaresse(){
	
	if($('#annee_choix').val()=="" || $('#session_choix').val()=="" || $('#cours_choix').val()==""){
		AlertMessa("Tous les champs sont obligatoires.");
	}else{
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_AffichePalmaresse' 	: 'ok',
			'annee_choix' 			: $('#annee_choix').val(),
			'session_choix'      	: $('#session_choix').val(),
			'cours_choix'      		: $('#cours_choix').val(),
			'groupe'      			: $('#groupe').val(),
			'optionv'      			: $('#optionv').val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			$("#palm").html(code_html);	
	   }
	});
	}

		
	
}


function ValiderOnlineCandidature(){
	
	
				$("#title-message").html("Voulez-vous effectuer cette op&eacute;ration?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-primary btn-minier",
								click: function() {
																
									
								$.ajax({
										url : 'parser.php',
										type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
										data: { 
										'MM_Valider_Candidature': 'ok',
										'numdossier'			: $('#numdossier').val(),
										'anneeAcademique'		: $('#annee_ajax').val()
										
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										//$("#palm").html(code_html);	
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}
function RejeterOnlineCandidature(){
	
	
				$("#title-message").html("Voulez-vous effectuer cette op&eacute;ration?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-primary btn-minier",
								click: function() {
									
								$.ajax({
										url : 'parser.php',
										type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
										data: { 
										'MM_Annuler_Candidature': 'ok',
										'numdossier'			: $('#numdossier').val()
										
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
											
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Non",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});	
	
}
function SynchroniserBulletin(){

				$("#title-message").html("Attention !!! Cette op&eacute;ration est irr&eacute;versible.<br />Veuillez sauvegarder les notes de vos &eacute;l&egrave;ves avant de valider cette action.<br />Voulez-vous effectuer cette op&eacute;ration?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-primary btn-minier",
								click: function() {
										
								$.ajax({
										url : base_url+'parser',
										type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
										data: { 
										'MM_SynchroniserBulletin'	: 'ok',
										'idclasse'					: $('#idclasse').val(),
										'annee'						: $('#annee_ajax').val()
										
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										if(code_html=='ok'){
											AlertMessa("Synchronisation terminée avec succès.");
										}else{
											AlertMessa("Erreur de synchonisation, des notes existent pour cette classe pour cette ann&eacute;e.");
										}
											
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});	
								

}

function EmpruntOuvrage(){
	
	if($('#isbn').val()=="" || $('#titre').val()==""){
		AlertMessa("Les champs précédés d'un astérisque sont obligatoires.");
	}else{
			$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_EmpruntOuvrage'	: 'ok',
			'idetu'				: $('#idetu').val(),
			'isbn'				: $('#isbn').val(),
			'titre'				: $('#titre').val(),
			'du'				: $('#anneeOuv').val()+"-"+$('#moisOuv').val()+"-"+$('#jourOuv').val()
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			$("#lstEmpruntOuvrage").html(code_html);	
	   }
	});
	}
	
}

function PostArchives(){
	
	if(3==2){
		//AlertMessa("Les champs précédés d'un astérisque sont obligatoires.");
	}else{
			$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'MM_EmpruntOuvrage'	: 'ok'			
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			AlertMessa("Bulletin postée avec succès.");	
	   }
	});
	}
	
}



function DeleteEmprunt(id,idetu){

				$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
										
								$.ajax({
										url : base_url+'parser',
										type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
										data: { 
										'MM_Delete_Emprunt'	: 'ok',
										'id'				: id,
										'idetu'				: idetu
										
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										$("#lstEmpruntOuvrage").html(code_html);	
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});	
								

}



function GetGroupePromo(id){

    $.ajax({
        url : base_url+'parser',
        type : 'POST', // Le type de la requête HTTP, ici devenu POST      
        data: { 
        'MM_Get_groupe_promo'   : 'ok',
        'id'                    : id
      },
      
       dataType : 'html', // On désire recevoir du HTML
       success : function(code_html, statut){ // code_html contient le HTML renvoyé
            $("#gp").html(code_html);    
       }
    });

}

function PostNoteEmprunt(id,idetu){
	
		$.ajax({
		url : base_url+'parser',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'MM_Update_Emprunt'	: 'ok',
        'id'				: id,
		'idetu'				: idetu,
		'note'				: $('#note'+id).val()
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			$("#lstEmpruntOuvrage").html(code_html);	
	   }
	});
	
	
}


function Email_et_message(id){

/*
var h = $.trim($('#classe').val());

var y = h.split(',');

var g = $.trim($('#groupeleve').val());
var f = g.split(',');

for (var i = 0; i <= f.length - 1; i++) {
       
    for (var j = 0; j <= y.length - 1; j++) {
        alert(y[j]+"__"+f[i]);
    }

}
*/

	if($('#sujet').val()=="" || $.trim($('#classe').val())=="" || $.trim($('#groupeleve').val())==""){
		AlertMessa(msg_obligatoire);
	}else{
        
        if(CKEDITOR.instances.message.getData()==""){
			AlertMessa(msg_obligatoire);
		}else{
			$("#title-message").html(msg_email);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; "+btn_send,
								"class" : "btn btn-success btn-minier",
								click: function() {
                                load('id-add-attachment');
                                $.ajax({
                                    url : base_url+'parser',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: { 
                                    'MM_SendMail'   : 'ok',
                                    'idclasse'      : $('#classe').val(),
                                    'gp'            : $('#groupeleve').val(),
                                    'annee'         : $('#annee_ajax').val(),
                                    'message'       : CKEDITOR.instances.message.getData(), //CKEDITOR.instances['message'].getData(),
                                    'sujet'         : $('#sujet').val()
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                        partiMail(
                                            $('#classe').val(), 
                                            $('#sujet').val(), 
                                            $('#groupeleve').val(), 
                                            CKEDITOR.instances.message.getData()
                                            );
                                        window.location.replace(base_url+'message-off');                                        
                                   }
                                });
									
									
                                    
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		}
	}
	
}


function partiMail(classe, sujet, groupe, lien){

    $.ajax({
        url : base_url+'parser',
        type : 'POST', // Le type de la requête HTTP, ici devenu POST      
        data: { 
        'MM_save_file3' : 'ok',
        'classe'        : classe,
        'desc'          : sujet,
        'groupeleve'    : groupe,
        'lien'          : lien
      },
      
       dataType : 'html', // On désire recevoir du HTML
       success : function(code_html, statut){ // code_html contient le HTML renvoyé
            //window.location.replace(base_url+'message-off');
       }
    });

}


function Email_et_message_2(id){
    
    if($('#sujet_7').val()=="" || $('#classe_7').val()==""){
        AlertMessa(msg_obligatoire);
    }else{//$('#message').val()==""
        if(CKEDITOR.instances.message_7.getData()==""){
            AlertMessa(msg_obligatoire);
        }else{
            $("#title-message").html(msg_email);            
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [ 
                            {
                                html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; "+btn_send,
                                "class" : "btn btn-success btn-minier",
                                click: function() {
                                
                                
                                $.ajax({
                                    url : base_url+'parser',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: { 
                                    'MM_save_file3' : 'ok',
                                    'classe'        : $('#classe_7').val(),
                                    'desc'          : $('#sujet_7').val(),
                                    'groupeleve'    : "",
                                    'lien'          : CKEDITOR.instances.message_7.getData()
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                        window.location.replace(base_url+'message-off');
                                   }
                                });
                                
                                $( this ).dialog( "close" );

                                $.ajax({
                                    url : base_url+'parser',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: { 
                                    'MM_SendMail'   : 'ok',
                                    'idclasse'      : $('#classe_7').val(),
                                    'gp'            : "---",
                                    'annee'         : $('#annee_ajax').val(),
                                    'message'       : CKEDITOR.instances.message.getData(), //CKEDITOR.instances['message'].getData(),
                                    'sujet'         : $('#sujet_7').val()
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                        //AlertMessa("Message envoyé avec succès.");                                         
                                   }
                                });
                                    
                                    
                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    });
        }
    }
    
}
 
$( "#btn_poste_en_ligne" ).on( "click", function() {
                        $("#title-message").html("Voulez-vous publier ce programme sur la catalogue?");         
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [ 
                            {
                                html: "<i class='ace-icon fa fa-globe bigger-110'></i>&nbsp; Publier",
                                "class" : "btn btn-success btn-minier",
                                click: function() {
                                        
                                //============= SAVE ================
                                
                        $.ajax({
                           url : 'parser.php',
                           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                           data: { 
                            'MM_Up_pro_u_enligne': 'ok',                            
                            'id'         : $("#id").val(),
                            'a2'         : $("#idmention_p").val(),
                            'a3'         : $("#specialite_p").val(),
                            'a4'         : $("#niv_p").val(),
                            'a5'         : $("#dip_p").val(),
                            'a6'         : $("#statut_p").val(),
                            'a7'         : $("#du2").val(),
                            'a8'         : $("#au2").val(),
                            'a9'         : $("#session_p").val(),
                            'a10'        : $("#resp").val(),        
                            'a11'        : $("#moy_p").val(),
                            'a12'        : $("#moy_ec").val(),          
                            'a13'        : $("#prog_s").val(),
                            'a14'        : $("#frais").val(),
                            'a15'        : $("#taux").val(),
                            'a16'        : "",
                            'a17'        : $("#cat_formation").val(),
                            'a18'        : $("#limite_cr").val(),
                            'a19'        : $("#total_credit").val(),
                            'a20'        : $("#titrec").val(),
                            'a21'        : $("#annee_ins").val(),
                            'a22'        : $("#session_ins").val(),
                            'a23'        : $("#idfac").val(),
                            'a24'        : $("#domaine").val(),
                            'a25'        : $("#option").val(),
                            'a26'        : $("#libelle").val(),
                            'a27'        : $("#institution").val()
                          },
                                           
                                           dataType : 'html', // On désire recevoir du HTML
                                           success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                            $("#dmessage2").removeClass( "hide" );
                                        $("#dmessage2").addClass( "show" ); 
                                          }
                                        });
                                
                                    
                                    
                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    }); 
});

function Facturation(){
	$("#divFacturation").removeClass( "hide" );
	$("#divFacturation").addClass( "show" );
}

function CloseFacturation(){
	$("#divFacturation").removeClass( "show" );
	$("#divFacturation").addClass( "hide" );
}

function Creer_facture(){
	
	if($("#datepaiement").val() == ""  || $("#desc_facture").val() == "" || $("#idetuajax").val() == "" || $("#annee_ajax").val() == "" || $("#monnaie").val() =="" || $("#montant_facture").val()=="" || $.isNumeric( $("#montant_facture").val() ) == false){
		AlertMessa("Les champs précédés d'un astérisque sont obligatoires.");
	}else{
		$("#title-message").html("Voulez-vous cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-save bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-danger btn-minier",
								click: function() {
										
								$.ajax({
										url : base_url+'parser',
										type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
										data: { 
										'MM_CreerFacture'	: 'ok',
										'id' 				: $("#idetuajax").val(),
										'annee'				: $("#annee_ajax").val(),
										'monnaie'			: $("#monnaie").val(),
										'montant'			: $("#montant_facture").val(),
										'recurrence' 		: $("#recurrence").val(),
										'desc_facture'		: $("#desc_facture").val(),
										'datepaiement'		: $("#datepaiement").val()
										
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									
										$("#divFacturation").removeClass( "show" );
										$("#divFacturation").addClass( "hide" );
										//window.location.replace(base_url+"modifier-eleve/"+$('#idetuajax').val());
										EtudPaie();
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Non",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	}
	
}

function Cal_moy_Gen(id, annee){
	$.ajax({
		url : base_url+'parser',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'MM_MoyenneGenerale'	: 'ok',
		'la_idpromotion'		: id,
		'lannee'				: annee
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			
	   }
	});
}

function stteco(annee){
	alert(annee);
}






function LesMatieres(){

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstMatierePalmaresse'	: 'ok', 
				'classe2'					: $('#classe2').val(),
				'groupeleve2'				: $('#groupeleve2').val(),
				'anneeacad2'				: $('#anneeacad2').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
	
					$('#matiere').empty(); //remove all child nodes		
					var newOption = code_html;
					$('#matiere').append(newOption);
					$('#matiere').trigger("chosen:updated");
					
					$("#bull_matiere").html("");
					
			   }
			});	
			
}
function LesMatieres2(){
var txt = $('#classe2').val();
var arr = txt.split('____');
	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_lstMatierePalmaresse_access'	: 'ok', 
				'classe2'					: arr[0],
                'groupeleve2'               : arr[1],
				'matiere'				    : arr[2],
				'anneeacad2'				: $('#anneeacad2').val()		
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
	
					$('#matiere').empty(); //remove all child nodes		
					var newOption = code_html;
					$('#matiere').append(newOption);
					$('#matiere').trigger("chosen:updated");
					
					$("#bull_matiere").html("");
					
			   }
			});	
			
}

function AfficherBulletinMatiere(){
	var etat = 0;
	if($('#btnblanc2').is(':checked')==true){
		etat = 1;
	}else{
		etat = 0;
	}
	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_BulletinMatiere'		: 'ok', 
				'classe2'					: $('#classe2').val(),
				'groupeleve2'				: $('#groupeleve2').val(),
				'anneeacad2'				: $('#anneeacad2').val(),
				'matiere'					: $('#matiere').val(),
				'choixbul'					: etat
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#bull_matiere").html(code_html);
			   }
			});	
			
}

function AfficherBulletinMatiere2(){

var txt = $('#classe2').val();
var arr = txt.split('____');
var etat = 0;
	if($('#btnblanc2').is(':checked')==true){
		etat = 1;
	}else{
		etat = 0;
	}

	$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_BulletinMatiere'		: 'ok', 
				'classe2'					: arr[0],
				'groupeleve2'				: arr[1],
				'anneeacad2'				: $('#anneeacad2').val(),
				'matiere'					: $('#matiere').val(),
				'choixbul'					: etat
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#bull_matiere").html(code_html);
			   }
			});	
			
}


function PaiementAnticipe(){
	if($('#choixpmt').is(':checked')==true){
		$("#pmt_ant").removeClass( "hide" );
		$("#pmt_ant").addClass( "show" );
	}
	else{
		$("#pmt_ant").removeClass( "show" );
		$("#pmt_ant").addClass( "hide" );
	}
}



function addAccount(codedoralya, entreprise){

			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_AccountDoralya'		: 'ok', 
				'codedoralya'			: codedoralya,
				'entreprise'			: entreprise
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					
			   }
			});	
}


$('#idfacAccess').on('change', function () {

	$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'MM_ProgrammeFac'		: 'ok', 
				'idfacAccess'			: $('#idfacAccess').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#prgaccess").html(code_html);	
			   }
			});
}
);


function cocher(codes,etat){

	// Your string
	var example = codes;

	// Split through each of your values and alert each number
	var numbers = example.split(',');

	// Iterate through each value
	for(var i = 0; i < numbers.length; i++)
	{
		$('#'.numbers[i]).attr('checked', true);
	}
}


function FermeAjax(idetu){
			$("#title-message").html("Voulez-vous fermer ce dossier ?<br />Do you want to close this folder?<br />Eskew vle f&egrave;men dosye saa?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-cogs bigger-110'></i>&nbsp; Oui / Yes",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'MM_CloseDossier'	: 'ok',
									'idetudiant'		: idetu
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   //AlertMessa("Economat synchronisé avec succès.");
									   FormationClasse2();
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Non / No",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		
}

function add_session(){

$("#title-message").html("Voulez-vous appliquer cette modification?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle green'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-floppy-o bigger-110'></i>&nbsp; Appliquer",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
								$.ajax({
								   url : 'parser.php',
								   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								   data: { 
									'MM_ModSession'		: 'ok', 
									'session'			: $('#session').val(),
									'annee'				: $('#annee_ajax').val()
								  },
								   
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									rafraichir("u_anneeacademique.php");	
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
			
}




function Add_planning(){
	
	if($('#idfac').val()==""){
		AlertMessa("Veuillez saisir une faculté.");
		}else if($('#jour').val()==""){
			AlertMessa("Veuillez saisir un jour.");
		}else if($('#heure').val()==""){
			AlertMessa("Veuillez saisir une Heure.");
		}else if($('#idcours').val()==""){
			AlertMessa("Veuillez saisir un code de cours.");
		}else if($('#idenseignant').val()==""){
			AlertMessa("Veuillez saisir un Enseignant.");
		}else{
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'MM_add_planning'	: 'ok', 
				'pidfac'			: $('#idfac').val(),
				'pjour'				: $('#jour').val(),
				'pheure'			: $('#heure').val(),
				'pheure2'			: $('#heure2').val(),
				'pidcours'			: $('#idcours').val(),
				'pgroupe'			: $('#groupe').val(),
				'pidenseignant'		: $('#idenseignant').val(),
				'pidsalle'			: $('#idsalle').val(),
				'pnblimite'			: $('#nblimite').val(),
				'pannee'			: $('#annee_ajax').val(),
				'gpcours'			: $('#gpcours').val(),
				'psession'			: $('#session_ajax').val(),
				'typecours'			: $('#typecours').val()
				
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#idtbplanning").html(code_html);	
			   }
			});	
		}

}


function Aff_planning(){	
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'MM_aff_planning'	: 'ok', 
				'pidfac'			: $('#idfac').val(),
				'pannee'			: $('#annee_ajax').val(),
				'psession'			: $('#session_ajax').val()
				
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#idtbplanning").html(code_html);	
				Aff_EnsFac();
			   }
			});	
}

function Set_annee(){
	var input = $('#sess_planning').val();
	var a = input.split('');
	var y = "";
	
	var n = a[0]+a[1]+a[2]+a[3];
	var t = a[4];
	
	switch(t){
			case "S": 	y = n+"-"+(parseInt(n)+1);
				break;
			case "s": 	y = n+"-"+(parseInt(n)+1);
				break;
			case "J":	y=(parseInt(n)-1)+"-"+n;
				break;
			case "j":	y=(parseInt(n)-1)+"-"+n;
				break;
			case "E":	y=(parseInt(n)-1)+"-"+n;
				break;
			case "e":	y=(parseInt(n)-1)+"-"+n;
				break;
			
		}
	

	if(a.length==5){
		$('#annee_ajax').val(y);
		$('#session_ajax').val($('#sess_planning').val());
	}
}


function Aff_planning2(){
	
			$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'MM_aff_planning2'	: 'ok', 
				'pidfac'			: $('#idfac').val(),
				'pannee'			: $('#anneeacad').val(),
				'psession'			: $('#session1').val()
				
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				$("#idtbplanning").html(code_html);	
			   }
			});	
}




function Del_planning(idplanning){
$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle green'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
									
								$.ajax({
								   url : 'parser.php',
								   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								   data: { 
									'MM_del_planning'	: 'ok', 
									'del_idplanning'	: idplanning,
									'pidfac'			: $('#idfac').val(),
									'pannee'			: $('#annee_ajax').val(),
									'psession'			: $('#session_ajax').val()
								  },
								   
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									$("#idtbplanning").html(code_html);	
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
			
}


function Get_Session(){	
	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_Get_sessionAll' : 'ok',
		'lannee' 			: $("#anneeacad").val()
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé	
		$("#session").html(code_html);
	   }
	});
	
}


function SendPin(annee,session,programme,vacc,gp){

	$.ajax({
	   url : 'parser.php',
	   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
	   data: { 
		'MM_SendPin' 		: 'ok',
		'annee' 			: annee,
		'session' 			: session,
		'programme' 		: programme,
		'vacc' 				: vacc,
		'gp' 				: gp
	  },
	   
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé	
		AlertMessa("Modification éffectuée avec succès.");
	   }
	});
	
}


function Aff_EnsFac(){
	$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'fac'			: $('#idfac').val(),
				'MM_shortEmp'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
					$('#idenseignant').empty(); //remove all child nodes		
					var newOption = code_html;
					$('#idenseignant').append(newOption);
					$('#idenseignant').trigger("chosen:updated");
		
			   }
			});
}


function ajax_Ens(monchamps1,monchamps2){
	if($('#prenom').val()=='' || $('#nom').val()==''  || $('#idfac').val()=='' || $('#sexe').val()=='' || $('#nif').val()==''){
		AlertMessa("Veuillez saisir un nom, un prénom, le NIF ou CIN, le sexe ou sélectionner un décanat.");
	}else{
		
		$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'nom'			: $('#nom').val(), 
				'prenom'		: $('#prenom').val(),
				'fac'			: $('#idfac').val(),
				'sexe'			: $('#sexe').val(),
				'nif'			: $('#nif').val(),
				'idgp'			: $('#idgp').val(),
				'MM_EmpADD_sh'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					Aff_EnsFac();
			   }
			});
			
			
		Hide(monchamps1,monchamps2);
	}
	
}

$( "#btn_search_ec" ).click(function() {
  $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'ccours'	: $('#ccours').val(), 
				'MM_ccours'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#search").html(code_html);	
			   }
			});
});


$( "#btn_mod_plann" ).click(function() {
		if($('#jour').val()==""){
			AlertMessa("Veuillez saisir un jour.");
		}else if($('#heure').val()==""){
			AlertMessa("Veuillez saisir une heure de début.");
		}else if($('#heure2').val()==""){
			AlertMessa("Veuillez saisir une Heure de fin.");
		}else if($('#idenseignant').val()==""){
			AlertMessa("Veuillez saisir un(e) enseignant(e).");
		}else{
			  $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'jour'			: $('#jour').val(), 
				'heure'			: $('#heure').val(),
				'heure2'		: $('#heure2').val(),
				'idplanning'	: $('#idplanning').val(),
				'idenseignant'	: $('#idenseignant').val(),	
				'annee'			: $('#annee_ajax').val(),
				'session'		: $('#session_ajax').val(),
				'MM_modif_plan'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#lmes").html(code_html);	
			   }
			});
		}

});

$( "#btn_dupl_plann" ).click(function() {
	
		if($('#jour').val()==""){
			AlertMessa("Veuillez saisir un jour.");
		}else if($('#heure').val()==""){
			AlertMessa("Veuillez saisir une heure de début.");
		}else if($('#heure2').val()==""){
			AlertMessa("Veuillez saisir une Heure de fin.");
		}else if($('#idenseignant').val()==""){
			AlertMessa("Veuillez saisir un(e) enseignant(e).");
		}else{
			  $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'jour'			: $('#jour').val(), 
				'heure'			: $('#heure').val(),
				'heure2'		: $('#heure2').val(),
				'idplanning'	: $('#idplanning').val(),
				'idenseignant'	: $('#idenseignant').val(),	
				'annee'			: $('#annee_ajax').val(),
				'session'		: $('#session_ajax').val(),
				'MM_dupliquer_plan'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#lmes").html(code_html);	
			   }
			});
		}

});

function affectation(idplan){
	
		 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'pidplan'			: idplan,
				'pfac'				: $('#idfac').val(),
				'pannee'			: $('#pannee'+idplan).val(),
				'psession'			: $('#psession'+idplan).val(),
				'pjour'				: $('#pjour'+idplan).val(),
				'pheure'			: $('#heure'+idplan).val(),
				'pheure2'			: $('#heure2'+idplan).val(),
				'pidsalle'			: $('#idsalle'+idplan).val(),
				'MM_addSalleplan'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#idtbplanning").html(code_html);	
			   }
			});
			
}

function affectationSalle(idplan){
	
		 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'pidplan'			: idplan,
				'pfac'				: $('#idfac').val(),
				'pannee'			: $('#pannee'+idplan).val(),
				'psession'			: $('#psession'+idplan).val(),
				'pjour'				: $('#pjour'+idplan).val(),
				'pheure'			: $('#heure'+idplan).val(),
				'pheure2'			: $('#heure2'+idplan).val(),
				'pidsalle'			: $('#idsalle'+idplan).val(),
				'pmax'				: $('#max'+idplan).val(),
				'MM_addSalleplan2'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#idtbplanning").html(code_html);	
			   }
			});
			
}

function affectationSalle_decanat(idplan){
	
		 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'pidplan'			: idplan,
				'pfac'				: $('#idfac').val(),
				'pannee'			: $('#pannee'+idplan).val(),
				'psession'			: $('#psession'+idplan).val(),
				'pjour'				: $('#pjour'+idplan).val(),
				'pheure'			: $('#heure'+idplan).val(),
				'pheure2'			: $('#heure2'+idplan).val(),
				'pidsalle'			: $('#idsalle'+idplan).val(),
				'pmax'				: $('#max'+idplan).val(),
				'g_p'				: $('#g_p'+idplan).val(),
				'MM_addSalleplan2'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					Aff_planning();	
			   }
			});
			
}

function searchcours(){
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'annee'					: $('#annee_ajax').val(),
				'session'				: $('#session_ajax').val(),
				'clecours'				: $('#clecours').val(),
				'MM_rechercheplanning'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#idlescours").html(code_html);	
			   }
			});
}

function DonnerNote(annee,session,idcours,groupe){

			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'annee'					: annee,
				'session'				: session,
				'clecours'				: idcours,
				'groupe'				: groupe,
				'MM_donnernote'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#lesnotes").html(code_html);	
			   }
			});
}

function set_bareme(){
	
		$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'bareme_intra'		: $('#bareme_intra').val(),
				'bareme_tp'			: $('#bareme_tp').val(),
				'bareme_final'		: $('#bareme_final').val(),
				'bareme_annee'		: $('#bareme_annee').val(),
				'bareme_session'	: $('#bareme_session').val(),
				'bareme_idcours'	: $('#bareme_idcours').val(),
				'bareme_groupe'		: $('#bareme_groupe').val(),
				'MM_set_bareme'		: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					AlertMessa('Nouveaux barèmes sauvegardés avec succès.')	
			   }
			});
			
			
}

function AttestationEtudiant(){
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'codeetudiant'		: $('#cle').val(),
				'MM_attestation'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#td_resultat").html(code_html);	
			   }
			});
}

function AttestationEtudiantVRAAC(){
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'codeetudiant'		: $('#cle').val(),
				'MM_attestationVRAAC'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$("#td_resultat").html(code_html);	
			   }
			});
}


function CalculCredit(){
	//alert('ok');
}

function PosterNoteProf(id){
			
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'note1'				: $('#a'+id).val(),
				'note2'				: $('#b'+id).val(),
				'note3'				: $('#c'+id).val(),
				'note4'				: $('#d'+id).val(),
				'bareme_intra'		: $('#bareme_intra').val(),
				'bareme_tp'			: $('#bareme_tp').val(),
				'bareme_final'		: $('#bareme_final').val(),
				'idreleve'			: id,
				'MM_PosterNoteProf'	: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					
			   }
			});
}



function ValiderNotes(annee,session,coursid,groupe){
		
					$("#title-message").html("Voulez-vous valider ces notes?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'annee' 				: annee,
										'session'				: session,
										'coursid'				: coursid,
										'groupe'				: groupe,
										'MM_validation_notes'   : 'ok'	
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										   AffichePalmaresse();
									   }
									});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}



function poster_presence(act){
			
			if(act=='a'){
				$('#au').val($('#du').val());
			}	
			 $.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'dateent'		: $('#du').val(),
				'dateent2'		: $('#au').val(),
				'heure'			: $('#heure').val(),
				'heure2'		: $('#heure2').val(),
				'idenseignant'	: $('#idenseignant').val(),
				'action'		: act,	
				'MM_presence'	: 'ok'
			  
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
					
					$("#tableau_presence").html(code_html);
					
			   }
			});
}

function searchcours_etu(){
				
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'anneeacad'				: $('#anneeacad').val(),
				'session'				: $('#session').val(),
				'idcours'				: $('#idcours').val(),
				'numgroupe'				: $('#numgroupe').val(),	
				'MM_etudiant_par_cours'	: 'ok'			  
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
					
					$("#resultat").html(code_html);
					
			   }
			});
}

function searchcours_etu_validation_decanat(personne){
				
	$("#title-message").html("Voulez-vous valider ces notes <strong>"+personne+"</strong> ?");			
	var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
		resizable: false,
		width: '320',
		modal: true,
		title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
		title_html: true,
		
		buttons: [ 
			{
				html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
				"class" : "btn btn-success btn-minier",
				click: function() {
					
					
				$.ajax({
				   url : 'parser.php',
				   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
				   data: { 
					
					'anneeacad'				: $('#anneeacad').val(),
					'session'				: $('#session').val(),
					'idcours'				: $('#idcours').val(),
					'numgroupe'				: $('#numgroupe').val(),	
					'la_personne'				: personne,	
					'MM_etudiant_par_cours'	: 'ok'			  
				  },
				   
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
						
						$("#resultat").html(code_html);
						
				   }
				});

					$( this ).dialog( "close" );
				}
			}
			,
			{
				html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
				"class" : "btn btn-minier",
				click: function() {
					$( this ).dialog( "close" );
				}
			}
		]
	});
			 
			 
}

function searchsession_etu(){
				
			 $.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				
				'session'					: $('#lasession').val(),
				'MM_etudiant_par_session'	: 'ok'			  
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
					
					$("#resultat").html(code_html);
					
			   }
			});
}


function AjouterSalle(act){
	if(act==""){
	$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
			   
				'etat_salle'	: $('#etat_salle').val(),
				'salle'			: $('#salle').val(),
				'MM_add_salle'	: 'ok'
			  
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
					
					$("#resultat").html(code_html);
					
			   }
			});	
	}else{
	if($('#salle').val()==""){
	AlertMessa('Veuillez saisir une salle.');
}else{
	$.ajax({
			   url : 'parser.php',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
			   
				'etat_salle'	: $('#etat_salle').val(),
				'salle'			: $('#salle').val(),
				'MM_add_salle'	: 'ok'
			  
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé					
					
					$("#resultat").html(code_html);
					
			   }
			});
}	
	}

			 
}


function DeleteSalle(id){
	
			$("#title-message").html("Voulez-vous supprimer cette salle?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'MM_deletePresence'	: 'ok',
									'id'				: id
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   $("#resultat").html(code_html);
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		
}


function Update_salle(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'MM_updateSalle'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		   
	   }
	});
}


function DeletePresence(id){
	
			$("#title-message").html("Voulez-vous supprimer cet enregistrement?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Supprimer",
								"class" : "btn btn-danger btn-minier",
								click: function() {
									
								$.ajax({
									url : base_url+'parser',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'dateent'		: $('#du').val(),
									'heure'			: $('#heure').val(),
									'heure2'		: $('#heure2').val(),
									'dateent2'		: $('#au').val(),
									'idenseignant'	: $('#idenseignant').val(),
									'action'		: id,	
									'MM_presence'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   $("#tableau_presence").html(code_html);
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		
}

function CalculPayroll(){
	if($('#du').val() == ""){
		AlertMessa('Veuillez saisir une date de payroll.');
	}else{
		$("#title-message").html("Voulez-vous exécuter cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Créer le payroll",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : base_url+'parser',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'dateent'		: $('#du').val(),
									'MM_payroll'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									    window.location.replace("liste-payroll");
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	}
	
}

function CalculBonus(){
    if($('#du').val() == "" || $('#desc_bonus').val() == ""){
        AlertMessa('Veuillez saisir une date et une description.');
    }else{
        $("#title-message").html("Voulez-vous exécuter cette opération?");          
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [ 
                            {
                                html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Créer le payroll",
                                "class" : "btn btn-success btn-minier",
                                click: function() {
                                                                
                                    
                                $.ajax({
                                    url : base_url+'parser',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: { 
                                    'dateent'     : $('#du').val(),
                                    'desc_bonus'  : $('#desc_bonus').val(),
                                    'MM_bonus'    : 'ok'
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                        window.location.replace("liste-payroll");
                                   }
                                });
                                    
                                    
                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    });
    }
    
}


function ListePayroll(){
	
	$.ajax({
		url : base_url+'parser',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: {
		'au'				: $('#au').val(),
		'idcollaborateur'	: $('#idcollaborateur').val(),
		'rubriquepay'		: $('#rubriquepay').val(),
		'MM_lstPayroll'		: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		 $("#tableau_payroll").html(code_html);  
	   }
	});
}

function import_planning(){
if($('#impsession').val()=="" || $('#idfac').val()==""){
	AlertMessa('Veuillez saisir une session et un décanat.');
}else{
	$("#title-message").html("Voulez-vous importer le planning de la session <strong>"+$('#impsession').val()+"</strong>?<br /> Attention!!. Tous les changements de la session <strong>"+$('#session_ajax').val()+"</strong> seront supprimés et remplacer.");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-download bigger-110'></i>&nbsp; Importer",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'fac'				: $('#idfac').val(),
									'session_de'		: $('#impsession').val(),
									'annee_vers'		: $('#annee_ajax').val(),
									'session_vers'		: $('#session_ajax').val(),
									'MM_import_session'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   Aff_planning();
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}
		
}

function Change_programme(){
	if($('#idetu').val()=="" || $('#idprog').val()==""){
	AlertMessa('Veuillez saisir un code Etudiant et un code d\'option.');
}else{
	
	$("#title-message").html("Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'idetudiant'		: $('#idetu').val(),
									'leprogramme'		: $('#idprog').val(),
									'lasession'			: $('#session_ajax').val(),
									'lannee'			: $('#annee_ajax').val(),
									'regime'			: $('#regime').val(),
									'MM_change_prog'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   $("#lemessage").html(code_html);
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}
}

function le_programme(id){
	$('#idprog').val(id);
	
}

function valider_candidature_uniq(id){

		$("#title-message").html("Voulez-vous valider cette candidature?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'num_dossier_uniq'		: id,
									'lasession_uniq'		: $('#session_ajax').val(),
									'lannee_uniq'			: $('#annee_ajax').val(),
									'MM_val_cand_uniq'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   //$("#lemessage").html(code_html);
									   Insc_u_enLigne();
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	
}

function valider_candidature_uniq_libre(){
	$("#title-message").html("Voulez-vous valider cette candidature?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'num_dossier_uniq'			: $('#clelibre_post').val(),
									'lasession_uniq'			: $('#session_ajax').val(),
									'lannee_uniq'				: $('#annee_ajax').val(),
									'MM_val_cand_uniq_LIBRE'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   //$("#lemessage").html(code_html);
									   
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}
function valider_candidature_moyenne(idfac){
		
		$("#title-message").html("Vous êtes sur le point d'accepter les inscriptions pour les dossiers dont la moyenne est sup&eacute;rieure ou &eacute;gale &agrave;: "+$('#mmin').val()+" <br />Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'moyenne_min'		: $('#mmin').val(),
									'lasession'			: $('#session_ajax').val(),
									'lannee'			: $('#annee_ajax').val(),
									'l_idfac'			: idfac,
									'MM_val_cand_moy'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   //$("#lemessage").html(code_html);
									   Insc_u_enLigne();
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}
function concours_admission(){
	if($('#matiere').val()=="" || $('#sur').val()==""){
	AlertMessa('Tous les champs sont obligatoires');
}else{
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'idprogramme'			: $('#idprogramme').val(),
					'matiere'				: $('#matiere').val(),
					'sur'					: $('#sur').val(),
					'MM_add_concours_adm'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#examen_concours").html(code_html);
				   }
				});
}
}


function sa_iri(id){
	var iri = 0;
	var ona = 0;
	var cfg = 0;
	var cas = 0;
	var fdu = 0;
	var ac = 0;
	
	if ( $('input[name="iri'+id+'"]').is(':checked') ) {
		iri = 1;
	}
	if ( $('input[name="ona'+id+'"]').is(':checked') ) {
		ona = 1;
	}
	if ( $('input[name="cfg'+id+'"]').is(':checked') ) {
		cfg = 1;
	}
	if ( $('input[name="cas'+id+'"]').is(':checked') ) {
		cas = 1;
	}
	if ( $('input[name="fdu'+id+'"]').is(':checked') ) {
		fdu = 1;
	}
	if ( $('input[name="ac'+id+'"]').is(':checked') ) {
		ac = 1;
	}
	
		$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'idposte'				: id,
			'iri'					: iri,
			'cfg'					: cfg,
			'ona'					: ona,
			'cas'					: cas,
			'fdu'					: fdu,
			'ac'					: ac,
			'MM_update_taxe'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});

}


function timesheet(theure,no_ac,idcollaborateur,ldate){
	//$('#idlolo').html(no_ac+"__"+idcollaborateur+"__"+$('#'+theure).val()+"__"+ldate);
	$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'no_ac'					: no_ac,
			'idcollaborateur'		: idcollaborateur,
			'ldate'					: ldate,
			'theure'				: $('#'+theure).val(),
			'MM_update_timesheet'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});
}


function Liste_employe(){
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					: $('#cle').val(),
					'MM_recherche_employe'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_employes").html(code_html);
				   }
				});

}

function Liste_employe_ecole(){
	
			$.ajax({
					url : base_url+'parser',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					       : $('#cle_2').val(),
					'MM_recherche_employe_ecole'   : 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_employes").html(code_html);
				   }
				});

}

function Liste_clients(){
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					: $('#cle').val(),
					'MM_recherche_client'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_clients").html(code_html);
				   }
				});

}

function Liste_clients_four(){
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					: $('#cle').val(),
					'MM_recherche_client_four'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_clients").html(code_html);
				   }
				});

}

function Liste_agents(){
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					: $('#cle').val(),
					'MM_recherche_agent'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_clients").html(code_html);
				   }
				});

}



function Fichier_log(){
				
				$.ajax({
					url : base_url+'parser',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'du'		: $('#du').val(),
					'au'		: $('#au').val(),
					'cle'		: $('#cle').val(),
					'MM_log'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_log").html(code_html);
				   }
				});

	}

function Liste_client(){
	
			$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'cle'					: $('#cle').val(),
					'MM_recherche_client'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#les_clients").html(code_html);
				   }
				});

}


function validation_emp(ldate,id){
	if ($('#val_emp'+ldate).is(':checked')) {
		
			$("#title-message").html("Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
	$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ldate'					: ldate,
			'id'					: id,
			'etat'					: "1",
			'MM_validation_employe'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
					
		
	}else{
		
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ldate'					: ldate,
			'id'					: id,
			'etat'					: "0",
			'MM_validation_employe'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});
		
	}
}

function validation_adm(ldate,id){
	
	if ($('#val_adm'+ldate).is(':checked')) {
		
			$("#title-message").html("Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
	$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ldate'					: ldate,
			'id'					: id,
			'etat'					: "1",
			'MM_validation_adm'	: 	'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
					
		
	}else{
		
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'ldate'					: ldate,
			'id'					: id,
			'etat'					: "0",
			'MM_validation_adm'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			   
		   }
		});
		
	}
}





function Reset_client_passe(idclient){
		$("#title-message").html("Voulez-vous effectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Valider",
								"class" : "btn btn-success btn-minier",
								click: function() {
																
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'id'			: idclient,
									'MM_reset_client_password'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									   AlertMessa(code_html);
								   }
								});
									
									
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}




function mm_cache(id){
	 $("#"+id).toggle();
	 $("#"+id+"2").toggle();
}


function dispo_salle(){
	$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'salle'					: $('#salle').val(),
					'jour'					: $('#jour').val(),
					'pannee'				: $('#annee_ajax').val(),
					'psession'				: $('#session_ajax').val(),
					'MM_recherche_salle'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#idtbplanning").html(code_html);
				   }
				});
}


function get_commune(){	
	$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'departement'			: $('#departement').val(),
					'MM_recherche_commune'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   $("#elcomm").html(code_html);
				   }
				});
}

function poster_uniq_arriere(){	
	$.ajax({
					url : 'parser.php',
					type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
					data: { 
					'MM_poster_uniq_arriere'	: 'ok'
				  },
				  
				   dataType : 'html', // On désire recevoir du HTML
				   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					   AlertMessa('ok');
				   }
				});
}



function change_regime(idpromo){
	//;
	$("#title-message").html("Voulez-vous effectuer cette modification?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-info btn-minier",
								click: function() {
									ModGroupe(idpromo);
									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}

function Page(lapage, totalrecord){
	
		$.ajax({
			url : 'parser.php',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 
			'lapage'		: lapage,
			'totalrecord'	: totalrecord,
			'MM_pagination'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			  $("#liste_cours_u").html(code_html);
		   }
		});
}


function l_annee(session){
	
	var str = session;
    var a = str.split("");
	
	var y = "";
	
	var n = a[0]+""+a[1]+""+a[2]+""+a[3];
	var t = a[4];
	
	switch (t) {
		
		case "S": 	y 	= n+"-"+(parseInt(n)+1);
			break;
		case "s": 	y 	= n+"-"+(parseInt(n)+1);
			break;
		case "J":	y	=(parseInt(n)-1)+"-"+n;
			break;
		case "j":	y	=(parseInt(n)-1)+"-"+n;
			break;
		case "E":	y	=(parseInt(n)-1)+"-"+n;
			break;
		case "e":	y	=(parseInt(n)-1)+"-"+n;
			break;
		
	}
	
	return y;
}

function Supprimer_pre_inscrit(id_dossier){
		
					$("#title-message").html("Voulez-vous supprimer ce dossier?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
									$.ajax({
									   url : 'parser.php',
									   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									   data: { 
										'id_dossier' 			  : id_dossier,
										'MM_delete_pre_inscrit'   : 'ok'	
									  },
									   
									   dataType : 'html', // On désire recevoir du HTML
									   success : function(code_html, statut){ // code_html contient le HTML renvoyé
										   Insc_u_enLigne();
									   }
									});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});

}

function create_facture(){
	
	if($('#session_fac').val()==""){
		AlertMessa("Veuillez saisir une session.");
	}else if($('#leprogramme_fac').val()==""){
		AlertMessa("Veuillez sélectionner une option.");
	}else if($('#regime_fac').val()==""){
		AlertMessa("Veuillez sélectionner un régime.");
	}else if ($('#montant_fac').val()==""){
		AlertMessa("Veuillez saisir un montant");
	}else{
		
		
		$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
							$.ajax({
								url : 'parser.php',
								type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								data: { 
								'annee'					: l_annee($('#session_fac').val()),
								'session'				: $('#session_fac').val(),
								'programme'				: $('#leprogramme_fac').val(),
								'regime'				: $('#regime_fac').val(),
								'montant'				: $('#montant_fac').val(),
								'idetudiant'			: $('#codeetudiant').val(),
								'MM_create_fac_uniq'	: 'ok'
							  },
							  
							   dataType : 'html', // On désire recevoir du HTML
							   success : function(code_html, statut){ // code_html contient le HTML renvoyé
								rafraichir("u_modeleve.php?act=etu&id="+$('#codeetudiant').val()+"&page=6");   
							   }
							});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		

	}
		
}

function set_degoration(id, annee, session){
		
		$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
							$.ajax({
								url : 'parser.php',
								type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								data: { 
								'annee'				: annee,
								'session'			: session,
								'idetudiant'		: id,
								'MM_Set_deragation'	: 'ok'
							  },
							  
							   dataType : 'html', // On désire recevoir du HTML
							   success : function(code_html, statut){ // code_html contient le HTML renvoyé
								AlertMessa("Déragation effectuée avec succès.");  
							   }
							});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}


function set_livraison_carte(id, annee, session){
		
		$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
							$.ajax({
								url : 'parser.php',
								type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								data: { 
								'annee'				: annee,
								'session'			: session,
								'idetudiant'		: id,
								'MM_Set_deragation'	: 'ok'
							  },
							  
							   dataType : 'html', // On désire recevoir du HTML
							   success : function(code_html, statut){ // code_html contient le HTML renvoyé
								AlertMessa("Carte livrée avec succès.");  
							   }
							});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}

function PosterArticle(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'codearticle'			: $('#codearticle').val(),
		'MM_POS_add_article'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}

function PosterArticle2(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'codearticle'			: $('#codearticle2').val(),
		'MM_POS_add_article'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}


function Delete_prod(id){
	
	
	$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'codearticle'			: id,
									'MM_POS_delete_article'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									ListerArticle();
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	
}

function ListerArticle(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'MM_POS_liste_article'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		$("#tbl_vente").html(code_html); 
	   }
	});
}

function setQte(id){
	if($('#qte'+id).val()<=0){
		$('#qte'+id).val() = 1;
	}
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'laQte'					: $('#qte'+id).val(),
		'codearticle'			: id,
		'MM_POS_set_qte'		: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}

function setRabais(id){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'le_rabais'			: $('#rabais'+id).val(),
		'prix'				: $('#prix'+id).val(),
		'codearticle'		: id,
		'MM_POS_set_rabais'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}

function setRabaisTotal(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'rabais_total'				: $('#rabaisTotal').val(),
		'MM_POS_set_rabais_total'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}
function setProduit(id){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'le_produit'			: $('#produit'+id).val(),
		'codearticle'			: id,
		'MM_POS_set_produit'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		
	   }
	});
}
function setTaux(){
	$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'letaux'			: $('#letaux').val(),
		'MM_POS_set_taux'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		ListerArticle();
	   }
	});
}

function create_bourse(){
	
	if($('#session_fac2').val()==""){
		AlertMessa("Veuillez saisir une session.");
	}else if($('#leprogramme_fac2').val()==""){
		AlertMessa("Veuillez sélectionner une option.");
	}else if($('#regime_fac2').val()==""){
		AlertMessa("Veuillez sélectionner un régime.");
	}else if ($('#mnt_bourse').val()==""){
		AlertMessa("Veuillez saisir un montant");
	}else{
		
		
		$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {
									
									
							$.ajax({
								url : 'parser.php',
								type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								data: { 
								'annee'					: l_annee($('#session_fac2').val()),
								'session'				: $('#session_fac2').val(),
								'programme'				: $('#leprogramme_fac2').val(),
								'regime'				: $('#regime_fac2').val(),
								'montant'				: $('#mnt_bourse').val(),
								'idetudiant'			: $('#codeetudiant').val(),
								'desc'					: $('#bourse').val(),
								'MM_create_bourse_uniq'	: 'ok'
							  },
							  
							   dataType : 'html', // On désire recevoir du HTML
							   success : function(code_html, statut){ // code_html contient le HTML renvoyé
								rafraichir("u_modeleve.php?act=etu&id="+$('#codeetudiant').val()+"&page=6");   
							   }
							});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		

	}
		
}


function Poster_config(){
	
	$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									'MM_poster_config'		: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									rafraichir("index.php");
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	
}

function SaveInfo(){
		$.ajax({
		url : 'parser.php',
		type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
		data: { 
		'remarque'			: $('#remarque').val(),
		'comment'			: $('#comment').val(),
		'memo_paiement'		: $('#memo_paiement').val(),
		'type_paiement'		: $('#type_paiement').val(),
		
		'MM_POS_saveInfo'	: 'ok'
	  },
	  
	   dataType : 'html', // On désire recevoir du HTML
	   success : function(code_html, statut){ // code_html contient le HTML renvoyé
		
	   }
	});
}


function saveFacture(){
	
	
	$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
								$("#btn_create_facture").attr("disabled", true);	
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 
									
									'no_facture'			: $('#numFacture').html(),
									'date_facture'			: $('#du').val(),
									'date_echeance'			: $('#au').val(),
									'idclient'				: $('#sel_client').val(),
									'montant_facture'		: $('#big_total').html(),
									'taux_facture'			: $('#letaux').val(),
									'comment_facture'		: $('#comment').val(),
									'remarque_facture'		: $('#remarque').val(),
									'type_paiement'			: $('#type_paiement').val(),
									'montant_paiement'		: $('#montant_recu').val(),
									'monnaie_paiement'		: $('#monnaie_recu').val(),
									'memo_paiement'			: $('#memo_paiement').val(),
									'rabais_facture'		: $('#rabaisTotal').val(),
									'MM_Sauvegarder_Facture': 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									//rafraichir("index.php");
									$("#btn_create_facture").attr("disabled", false);
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
	
}

function AutorisationSession(idetudiant){
	
	if($('#du').val()==""){
		AlertMessa("Veuillez saisir une date");
	}else{
		if($('#auth_session').val()==""){
			AlertMessa("Veuillez saisir une session");
		}else{
			
			
			$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 									
		'date_exp'				: $('#du').val(),
		'auth_session'			: $('#auth_session').val(),
		'idetudiants'			: idetudiant,
		'MM_SetAutorisation'	: 'ok'
	  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									$("#tb_auth").html(code_html);
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
			
			
		}
		
	}
	
	
}

function Del_auth(id,idetudiant){
	$("#title-message").html("Voulez-vous supprimer cette autorisation?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
									
								$.ajax({
									url : 'parser.php',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 									
									'idautorisation'		: id,
									'idetudiants'			: idetudiant,
									'MM_DelAutorisation'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									$("#tb_auth").html(code_html);
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}


function update_board(){
	
	$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 									
			'MM_update_board'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			window.location.replace(base_url+"app");
		   }
		});
}

function update_board_action(){
	
	$.ajax({
			url : base_url+'parser',
			type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			data: { 									
			'MM_update_board'	: 'ok'
		  },
		  
		   dataType : 'html', // On désire recevoir du HTML
		   success : function(code_html, statut){ // code_html contient le HTML renvoyé
			
		   }
		});
}

//=====================

$('#idcours_par_classe').on('change', function () {
	
     if($('#idcours_par_classe').val()==""){
	   }else{

			$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'idmatiere'		: $('#idcours_par_classe').val(), 
				'codedoralya'	: $('#codedoralyaentete').val()
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
				  $("#tablematiere").html(code_html);
			   }
			});
		 	 
	 }
});


function Select_all(){
	if ($('#ck_sel').is(':checked')) {
		$(".mat_choix").prop( "checked", true );
	}else{
		$(".mat_choix").prop( "checked", false );
	}
}


function delete_recu(id){
	$("#title-message").html(msg_delete);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash bigger-110'></i>&nbsp; "+btn_delete,
								"class" : "btn btn-danger btn-minier",
								click: function() {									
									
								$.ajax({
									url : base_url+'ecoles/recu/delete_recu',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 									
									'id_recu'			: id,
									'MM_delete_recu'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									$("#lstdep").html(code_html);
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp;"+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}

function delete_depense(id){
	$("#title-message").html(msg_delete);			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-trash bigger-110'></i>&nbsp; "+btn_delete,
								"class" : "btn btn-danger btn-minier",
								click: function() {									
									
								$.ajax({
									url : base_url+'ecoles/depense/delete_depense',
									type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
									data: { 									
									'id_depense'			: id,
									'MM_delete_depense'	: 'ok'
								  },
								  
								   dataType : 'html', // On désire recevoir du HTML
								   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									$("#lstdep").html(code_html);
								   }
								});

									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp;"+btn_close,
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
}


function SaveCategorie(id){
	
	if($('#lacategorie'+id).val()==""){
		AlertMessa(msg_obligatoire);
	}else{
		$.ajax({
			   url : base_url+'parser',
			   type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
			   data: { 
				'CAT_idrub'			: id,
				'CAT_lacategorie'	: $('#lacategorie'+id).val(),
				'MM_cat'			: 'ok'
			  },
			   
			   dataType : 'html', // On désire recevoir du HTML
			   success : function(code_html, statut){ // code_html contient le HTML renvoyé
					$('#btn_save'+id).addClass('hide');
					$('#btn_save'+id).removeClass('show');
			   }
			});		
	}

			
}



function AddPlanningEleve(){
	
	if($('#ev_description').val()==""){
		AlertMessa(msg_obligatoire);
	}else if($('#jour').val()=="" || $('#mois').val()=="" || $('#annee').val()=="" || $('#heure').val()==""){
		AlertMessa(msg_obligatoire);
	}else if($('#classe').val()==""){
		AlertMessa(msg_obligatoire);
	}else{
	var txtdate1 = $('#annee').val()+'-'+$('#mois').val()+'-'+$('#jour').val()+" "+$('#heure').val();
		
		$("#title-message").html("Voulez-vous affectuer cette opération?");			
					var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
						resizable: false,
						width: '320',
						modal: true,
						title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
						title_html: true,
						
						buttons: [ 
							{
								html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
								"class" : "btn btn-success btn-minier",
								click: function() {									
									
								$.ajax({
								url : base_url+'parser',
								type : 'POST', // Le type de la requête HTTP, ici devenu POST	   
								data: { 
								'MM_save_file5'	: 'ok',
								'classe'		: $('#classe').val(),
								'desc'			: $('#ev_description').val(),
								'groupeleve'	: $('#groupeleve').val(),
								'du'			: txtdate1,
								'au'			: txtdate1,
								'recurrent'		: 0,
								'finrec'		: txtdate1,
								'couleur'		: $('#simple-colorpicker-1').val()
							  },
							  
							   dataType : 'html', // On désire recevoir du HTML
							   success : function(code_html, statut){ // code_html contient le HTML renvoyé
									window.location.replace(base_url+'calendrier');
							   }
							});

                                 $.ajax({
                                    url : base_url+'parser',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: { 
                                    'MM_SendMail'   : 'ok',
                                    'idclasse'      : $('#classe').val(),
                                    'gp'            : $('#groupeleve').val(),
                                    'annee'         : $('#annee_ajax').val(),
                                    'message'       : $('#ev_description').val()+" "+txtdate1, //CKEDITOR.instances['message'].getData(),
                                    'sujet'         : $('#ev_description').val()
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                        //AlertMessa("Message envoyé avec succès.");                                         
                                   }
                                });



									$( this ).dialog( "close" );
								}
							}
							,
							{
								html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
								"class" : "btn btn-minier",
								click: function() {
									$( this ).dialog( "close" );
								}
							}
						]
					});
		
	}
	
}


function Liste_definitive(){
      
        $("#title-message").html(msg_confirmation);         
        var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
            resizable: false,
            width: '320',
            modal: true,
            title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
            title_html: true,
            
            buttons: [ 
                {
                    html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; "+btn_yes,
                    "class" : "btn btn-success btn-minier",
                    click: function() {                                 
                        
                    $.ajax({
                    url : base_url+'parser',
                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                    data: { 
                    'MM_set_liste_defivitive' : 'ok'
                  },
                  
                   dataType : 'html', // On désire recevoir du HTML
                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                        window.location.replace(base_url+'app');
                   }
                });

                        $( this ).dialog( "close" );
                    }
                }
                ,
                {
                    html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
                    "class" : "btn btn-minier",
                    click: function() {
                        $( this ).dialog( "close" );
                    }
                }
            ]
        });
        
    
    
}



function Pa_ChoixClasse(id, cle){
    $('#'+cle).html('<i class="ace-icon fa fa-spinner fa-spin orange fa-2x"></i> Please wait ...').attr('disabled','disabled');
        $.ajax({
               url : base_url+'parser',
               type : 'POST', // Le type de la requête HTTP, ici devenu POST       
               data: { 
                'Pa_idpromo'         : id,
                'PA_choixClasse'    : 'ok'
              },
               
               dataType : 'html', // On désire recevoir du HTML
               success : function(code_html, statut){ // code_html contient le HTML renvoyé
                    window.location.replace(base_url+'palmares-eleve'); 
               }
            });     


            
}



$('input[type=radio][name=optradio]').change(function() {
    if (this.value == '2') {
        $("#a_1").removeClass( "hide" ).addClass( "show" );
        $("#a_2").removeClass( "show" ).addClass( "hide" );
        $("#a_3").removeClass( "show" ).addClass( "hide" );
    }
    else if (this.value == '3') {
        $("#a_1").removeClass( "show" ).addClass( "hide" );
        $("#a_2").removeClass( "hide" ).addClass( "show" );
        $("#a_3").removeClass( "show" ).addClass( "hide" );
    }else if (this.value == '4') {
        $("#a_1").removeClass( "show" ).addClass( "hide" );
        $("#a_2").removeClass( "show" ).addClass( "hide" );
        $("#a_3").removeClass( "hide" ).addClass( "show" );
    }else{
        $("#a_1").removeClass( "show" ).addClass( "hide" );
        $("#a_2").removeClass( "show" ).addClass( "hide" );
        $("#a_3").removeClass( "hide" ).addClass( "show" );
    }
});


$('input[type=radio][name=optradio2]').change(function() {
    if (this.value == '1') {
        $("#b_1").removeClass( "hide" ).addClass( "show" );
        $("#b_2").removeClass( "show" ).addClass( "hide" );
    }else {
        $("#b_1").removeClass( "show" ).addClass( "hide" );
        $("#b_2").removeClass( "hide" ).addClass( "show" );
    }

});



function SaveCours(){

    switch($('#type_doc').val()){
        case 'cours':
            
                switch($('input[name=optradio]:checked').val()){
                case '2':
                //Cours TXT
                if(CKEDITOR.instances.lib_contenu.getData() == ''){
                    AlertMessa('Veuillez saisir un contenu');
                }else{
                    
                    if($( "#titre" ).val() == ""){
                        AlertMessa('Veuillez saisir une description');
                    }else{
                         $.ajax({
                           url : base_url+'ecoles/Executer/GetAjaxFile',
                           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                           data: { 
                            'contenu'                   : CKEDITOR.instances.lib_contenu.getData(),
                            'description'               : $( "#titre" ).val(),
                            'matiere'                   : $( "#idmatiere" ).val(),
                            'type_doc'                  : $( "#type_doc" ).val(),
                            'doc'                       : 'text',
                            'clk_action_cours_text'     : 'ok'
                          },
                           
                           dataType : 'html', // On désire recevoir du HTML
                           success : function(code_html, statut){ // code_html contient le HTML renvoyé
                               
                                $("#res1").html(code_html);
                                ActiverClasse('3');
                           }
                        });
                    }
                     
                }
                
                
                break;

                case '3':

                    var fd = new FormData(); 
                    var files = $('#file')[0].files[0]; 
                    fd.append('file', files); 

                   $.ajax({
                        url : base_url+'ecoles/Executer/GetAjaxFile',
                        type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                        data : fd,       
                        contentType: false,
                        processData: false,
                       
                        dataType : 'html', // On désire recevoir du HTML
                            success : function(code_html, statut){ // code_html contient le HTML renvoyé
                            $("#res1").html(code_html);
                        }
                    }); 

                break;

                case '4':
                     if($('#video').val() == ''){
                        AlertMessa('Veuillez saisir un contenu');
                     }else{
                        $.ajax({
                           url : base_url+'ecoles/Executer/GetAjaxFile',
                           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                           data: { 
                            'contenu'                   : $('#video').val(),
                            'type_doc'                  : 'cours',
                            'doc'                       : 'video',
                            'clk_action_cours_video'     : 'ok'
                          },
                           
                           dataType : 'html', // On désire recevoir du HTML
                           success : function(code_html, statut){ // code_html contient le HTML renvoyé
                               $("#res1").html(code_html);
                           }
                        }); 
                     }
                      

                break;
                
                default:
        }

        break;
        case 'devoir':
       
        break;
        case 'evaluation':
       
        break;
        case 'lecon':
       
        break;

        default:
    }

            
}

function ActiverClasse(id){
    $(".l_menu").removeClass( "active" );
    $(".ctn").removeClass( "show" ).addClass( "hide" );

    $("#"+id).addClass( "active" );
    $("."+id).removeClass( "hide" ).addClass( "show" );

}



function BTN_ImportContenu(id, etat){
    if(etat == 'close'){
        $("#"+id).removeClass( "show" ).addClass( "hide" );
    }else{
        $("#"+id).removeClass( "hide" ).addClass( "show" ); 
    }
    
}

function ACT_ImporterContenu(idprogramme, idfaculte, groupe){
     if($('#imp_code'+idfaculte).val() == ''){

         AlertMessa('Veuillez saisir un code de contenu');

     }else{
         $.ajax({
           url : base_url+'ecoles/SalleCours/ImportContenu',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'code_cours'   : $('#imp_code'+idfaculte).val(),
            'idfaculte'    : idfaculte,
            'groupe'       : groupe
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
               if(code_html ==  'ok'){
                    window.location.replace(base_url+'salle-cours/'+idprogramme+'/'+groupe+'/'+idfaculte);
               }else{
                    AlertMessa(code_html);
               }
               
           }
        });
     }
    
}





function ActiverDoralya(codedoralya){
    $("#title-message").html("Voulez-vous activer le module de formation à distance?");          
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [ 
                            {
                                html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; Oui",
                                "class" : "btn btn-success btn-minier",
                                click: function() {                                 
                                    
                                $.ajax({
                                    url : base_url+'ecoles/Configuration/ActiverDoralya',
                                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                                    data: {                                     
                                    'codedoralya'        : codedoralya
                                  },
                                  
                                   dataType : 'html', // On désire recevoir du HTML
                                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                    AlertMessa('Compte activé avec succès.');
                                   }
                                });

                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    });
}


function CacherCours(id, etat){
    $.ajax({
           url : base_url+'ecoles/classe/ActiveCours',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'idcours'               : id,
            'etat'                  : etat
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
               window.location.replace(base_url+'ma-classe');
           }
        });
}



function deleteCoursMedia(id, idclasse, idcours){ 
                    
                    $("#title-message").html("Voulez-vous supprimer ce cours enregistré?");           
                    var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
                        resizable: false,
                        width: '320',
                        modal: true,
                        title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
                        title_html: true,
                        
                        buttons: [ 
                            {
                                html: "<i class='ace-icon fa fa-trash-o bigger-110'></i>&nbsp; Supprimer",
                                "class" : "btn btn-danger btn-minier",
                                click: function() {
                                    
                                    
                                    $.ajax({
                                       url : base_url+'elearning/cours/SupprimerVideoCours',
                                       type : 'POST', // Le type de la requête HTTP, ici devenu POST       
                                       data: { 
                                        'id'        : id,    
                                        'idclasse'  : idclasse  
                                      },
                                       
                                       dataType : 'html', // On désire recevoir du HTML
                                       success : function(code_html, statut){ // code_html contient le HTML renvoyé
                                           window.location.replace(base_url+'mon-cours/'+idcours);
                                       }
                                    });
                                    
                                    $( this ).dialog( "close" );
                                }
                            }
                            ,
                            {
                                html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; Fermer",
                                "class" : "btn btn-minier",
                                click: function() {
                                    $( this ).dialog( "close" );
                                }
                            }
                        ]
                    });
}

function load(id){
        $('#'+id).html('Please wait ...');
        $( '#'+id ).addClass('disabled');
}


function load_activite(id){
    $.ajax({
           url : base_url+'elearning/tp/load_activiterendu',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'code_activite'  : id
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
               window.location.replace(base_url+'activite-rendu');
           }
        });
}

function load_resultat_qcm(id){
    $.ajax({
           url : base_url+'elearning/qcm/load_resultat_examen',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'id'  : id
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
               window.location.replace(base_url+'resultat-evaluation');
           }
        });
}

function importer_categorie_cours(id){
        if($('#cc_cours'+id).val() == ''){
            AlertMessa('Veuillez saisir un code de catégorie.');
        }else{
            if(id == $.trim($('#cc_cours'+id).val())){
                AlertMessa('Erreur! Les codes sont identiques.');
            }else{

   $.ajax({
           url : base_url+'elearning/cours/ImporterCategorie',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'importer_dans' : id,
            'a_importer'    : $.trim($('#cc_cours'+id).val()),
            'url'           : $('#cc_url'+id).val()
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
                if(code_html == '1'){
                     AlertMessa('Cette categorie est inexistante ou ne contient pas de contenu.');
                }else{
                    window.location.replace(base_url+'panel-cours');
                }
               
           }
        });


            }
        }
}




function changer_groupe_prof(id){
 
    $.ajax({
           url : base_url+'ecoles/personnel/ch_groupe',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'groupe'            : $( "#ch_groupe"+id ).val(),
            'id'                : id
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé
               $( "#label_groupe"+id ).html($( "#ch_groupe"+id ).val());
               modifier_gp('label_groupe', 'ch_groupe', '0', id);
           }
        });
}



function set_matiere_prof(id){
 
    $.ajax({
           url : base_url+'ecoles/personnel/set_matiere',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'les_classes'       : $( "#les_classes"+id ).val(),
            'id'                : id
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé

           }
        });
}


function modifier_gp(label_groupe, ch_groupe, act, id){
        
        if(act == 1){
            $("#label_groupe"+id).removeClass( "show" ).addClass( "hide" );
            $("#ch_groupe"+id).removeClass( "hide" ).addClass( "swow" );
        }else{
            $("#label_groupe"+id).removeClass( "hide" ).addClass( "show" );
            $("#ch_groupe"+id).removeClass( "show" ).addClass( "hide" ); 
        }

}


function set_contrat(a1, a2){

    $.ajax({
           url : base_url+'ecoles/configuration/set_contrat',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'annee'            : a1,
            'code'             : a2
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé

           }
        });
}


    function clearCoursClasse(id){
           
        $("#title-message").html(msg_confirmation);         
        var dialog = $( "#dialog-message" ).removeClass('hide').dialog({
            resizable: false,
            width: '320',
            modal: true,
            title: "<div class='widget-header'><h4 class='smaller'><i class='ace-icon fa fa-exclamation-triangle red'></i> Confirmation</h4></div>",
            title_html: true,
            
            buttons: [ 
                {
                    html: "<i class='ace-icon fa fa-check bigger-110'></i>&nbsp; "+btn_yes,
                    "class" : "btn btn-success btn-minier",
                    click: function() {                                 
                        
                    $.ajax({
                    url : base_url+'ecoles/configuration/clearCoursClasse/'+id,
                    type : 'POST', // Le type de la requête HTTP, ici devenu POST      
                    data: { 
                    'MM_clearCoursClasse' : 'ok'
                  },
                  
                   dataType : 'html', // On désire recevoir du HTML
                   success : function(code_html, statut){ // code_html contient le HTML renvoyé
                        window.location.replace(base_url+'matiere-par-classe/'+id);
                   }
                });

                        $( this ).dialog( "close" );
                    }
                }
                ,
                {
                    html: "<i class='ace-icon fa fa-times bigger-110'></i>&nbsp; "+btn_close,
                    "class" : "btn btn-minier",
                    click: function() {
                        $( this ).dialog( "close" );
                    }
                }
            ]
        });
        
    
 
    }


 function setDisqueDurSize(){

    $.ajax({
           url : base_url+'ecoles/configuration/setDisqueDurSize',
           type : 'POST', // Le type de la requête HTTP, ici devenu POST       
           data: { 
            'action'             : 'ok'
          },
           
           dataType : 'html', // On désire recevoir du HTML
           success : function(code_html, statut){ // code_html contient le HTML renvoyé

           }
        });

 }


